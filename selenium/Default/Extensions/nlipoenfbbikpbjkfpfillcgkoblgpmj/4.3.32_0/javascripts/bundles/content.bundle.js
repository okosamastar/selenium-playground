(()=>{var e={807:()=>{var e,t=[{name:"trello",reg:"trello.com",container:".js-desc,.js-comment",observeContainer:[".window-overlay"]},{name:"github",reg:"github.com",container:".js-comment-body",observeContainer:["#discussion_bucket"]},{name:"asana",reg:"app.asana.com",container:".TruncatedRichText-richText,#TaskDescription-textEditor",observeContainer:[".SpreadsheetPageStructure-detailsOverlay"]},{name:"jira",reg:"atlassian.net",container:".ak-renderer-document",observeContainer:[".atlaskit-portal-container","div[data-testid='Content']"]},{name:"slack",reg:"app.slack.com",container:".p-rich_text_section,.c-message_attachment__title",observeContainer:[".p-workspace__primary_view"]},{name:"gmail",reg:"mail.google.com",container:"div[role=listitem]",observeContainer:["#\\:1"]}];(e=["expand-link","expand-link-slack","expand-link-trello","expand-link-asana","expand-link-github","expand-link-jira","expand-link-gmail"],new Promise((function(t,n){chrome.runtime.sendMessage({action:"getLocalStorage",what:e},(function(e){t(e)}))}))).then((function(e){if(e["expand-link"]){var n=function(e){for(var n=0;n<t.length;n++)if(new RegExp(t[n].reg).test(e))return t[n];return!1}(window.location.href);if(n&&e["expand-link-"+n.name]){var o=new MutationObserver((function(e){e.forEach((function(e){"childList"!==e.type&&"subtree"!==e.type||$(n.container).find("a").each((function(e,t){if(a=t.href,r=decodeURIComponent(a),/https:\/\/www.awesomescreenshot.com\/video\/(.*)/.test(r)){var o=function(e){e=decodeURIComponent(e),/slack-redir.net/.test(e)&&(e=e.match(/\?url=(.*)$/)[1]);var t=new URL(e),n=t.searchParams.get("key"),o=t.pathname.substr(7);return!(!o||!n)&&{id:o,shareKey:n}}(t.href);if(o&&!$(t).hasClass("aws-expanded")){var i=$(function(e,t){var n="80%";"slack"===t&&(n="40%","25%");"gmail"===t&&(n="50%","30%");return'<div style="width:'+n+';position:relative;max-width:500px; min-width: 400px;"><iframe style="display:inline;position: absolute;top:0;left:0;width:100%;height:100%;" frameBorder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen src="https://www.awesomescreenshot.com/embed?id='+e.id+"&shareKey="+e.shareKey+'"></iframe></div>'}(o,n.name));i.insertBefore($(t)),i.css({height:.7*i.width()}),$(t).addClass("aws-expanded"),$(t).hasClass("c-message_attachment__title_link")&&($(t).parents(".c-message_attachment__body").find(".c-message_attachment__row--has_trigger").remove(),$(t).parents(".c-message_attachment__body").find("a[data-qa=attachment_image]").parents(".c-message_attachment__row").remove(),$(t).remove())}}var a,r}))}))}));n.observeContainer.forEach((function(e){var t,n=((t=e)?document.querySelector(t):null)||document;o.observe(n,{childList:!0,subtree:!0})}))}}}))}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{"use strict";function e(e,t){chrome.runtime.sendMessage(e,t)}function t(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function o(e){document.getElementById(e)&&document.getElementById(e).remove()}function i(e){switch(e){case"www.facebook.com":var n=$("#pagelet_bluebar").find("[role=banner]")[0];null!=n&&function(e,n){if(t(e,n)){var o=new RegExp("(\\s|^)"+n+"(\\s|$)");e.className=e.className.replace(o," ")}}(n,"_50ti");break;case"pinterest.com":var o=document.getElementById("CategoriesBar"),i=document.getElementsByClassName("Nag");null!=i&&0!=i.length&&i[0].style.setProperty("position","absolute","important"),null!=o&&o.style.setProperty("position","absolute","important")}}function a(e){switch(e){case"www.facebook.com":var n=$("#pagelet_bluebar").find("[role=banner]")[0];null!=n&&(t(a=n,r="_50ti")||(a.className+=" "+r));break;case"pinterest.com":var o=document.getElementById("CategoriesBar"),i=document.getElementsByClassName("Nag");null!=i&&0!=i.length&&(i[0].style.position=""),null!=o&&(o.style.position="")}var a,r}function r(){if(o("aws-entire-capture"),l.entireCaptureStyleChange.length>0)for(var e=l.entireCaptureStyleChange.length-1;e>=0;e--)l.entireCaptureStyleChange[e].undo();l.clear(),$("#aws-record-div").remove()}var l={entireCaptureStyleChange:[],add:function(e,t){null!=e&&this.entireCaptureStyleChange.push(new s(e,t))},checkAdd:function(e){var t=!1;for(var n in l.entireCaptureStyleChange)if(n.data&&n.data.element==e){t=!0;break}return t},clear:function(){this.entireCaptureStyleChange=[]}};function s(e,t){this.type=e,this.data=t,this.exec()}function d(e,t,n){var o="";switch(t){case"success":o='<div class="success-message" style="box-sizing:content-box;padding: 10px 30px;height: 36px;text-align: center;background-color:rgba(0,0,0,.9);;color: white;position: fixed;left: 50%;top: 20px;transform:translateX(-50%);line-height: 36px;font-size:16px;font-weight:bold;border-radius: 4px;z-index: 9999;box-shadow: 0 3px 6px -4px rgba(0,0,0,.12),0 6px 16px 0 rgba(0,0,0,.08),0 9px 28px 8px rgba(0,0,0,.05);">\n    <span class="mes-text">'+e+"</span></div>";break;case"error":o='<div class="error-message" style="width: 300px;height: 40px;text-align: center;background-color: #f5f0e5;color: rgba(238,99,99,0.8);position: fixed;left: 43%;top: 10%;line-height: 40px;border-radius: 5px;;z-index: 9999">\n    <span class="mes-text">'+e+"</span></div>"}$("body").append(o),setTimeout((function(){$("."+t+"-message").remove()}),n)}function c(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function p(e){var t=new ClipboardItem({"image/png":e});navigator.clipboard.write([t]).then((function(){d(chrome.i18n.getMessage("capture_btn_copy_tip"),"success",600)}),(function(e){d("Copied failed!","error",600)}))}function u(e){var t;navigator.clipboard&&e?"image/jpeg"===e.type?(t=e,new Promise((function(e,n){var o=window.URL.createObjectURL(t),i=document.createElement("img"),a=document.createElement("canvas"),r=a.getContext("2d");i.onload=function(){a.width=i.width,a.height=i.height,r.drawImage(i,0,0),a.toBlob((function(t){e(t)}))},i.src=o}))).then((function(e){p(e)})):p(e):d("Copied failed!","error",600)}function m(){return!!document.getElementById("webkit-xml-viewer-source-xml")&&(alert("Extension cannot run on this page because it contains XML files."),!0)}function b(e){return e.replace(/\$i18n\{([^}]+)}/g,(function(e,t){return chrome.i18n.getMessage(t)}))}function g(e){return!!e&&new Set(["iframe","frame"]).has(e.tagName.toLowerCase)}function f(e,t){for(var n="boolean"==typeof t?t:g(e),o=e.getBoundingClientRect(),i=o.width,a=o.height,r=0,l=0,s=e;s;){r+=isNaN(s.offsetLeft)?0:s.offsetLeft,s===document.body?l+=s.getBoundingClientRect().top+window.scrollY:l+=isNaN(s.offsetTop)?0:s.offsetTop;var d=v(s);d&&(r+=d.m41,a+=d.m42),s=s.offsetParent}var c,p,h={left:r,top:l,width:i,height:a};if(n){var u=(c=e,{left:y(p=window.getComputedStyle(c),["borderLeftWidth","paddingLeft"]),right:y(p,["borderRightWidth","paddingRight"]),top:y(p,["paddingTop","borderTopWidth"]),bottom:y(p,["paddingBottom","borderBottomWidth"])});h.box=u,h.left+=u.left,h.top+=u.top,h.width-=u.left+u.right,h.height-=u.top+u.bottom}return h}s.prototype={constructor:s,exec:function(){try{"changeCssText"===this.type?(this.cssTextBefore=this.data.element.style.cssText,this.data.element.style.cssText=this.cssTextBefore+";"+function(e){var t="";for(var n in e)t+=n.replace(/([a-zA-Z](?=[A-Z]))/g,"$1-").toLowerCase()+":"+e[n]+" !important;";return t}(this.data.cssObj)):"addStyle"===this.type?(e=this.data.id,t=this.data.css,n=document.head,(o=document.createElement("style")).setAttribute("type","text/css"),o.setAttribute("id",e),o.appendChild(document.createTextNode(t)),n.appendChild(o)):"changeAttr"===this.type&&(this.attrValueBefore=this.data.element[this.data.attrName],this.data.element[this.data.attrName]=this.data.attrValue)}catch(e){}var e,t,n,o},undo:function(){try{"changeCssText"===this.type?this.data.element.style.cssText=this.cssTextBefore:"addStyle"===this.type?o(this.data.id):"changeAttr"===this.type&&(this.data.element[this.data.attrName]=this.attrValueBefore)}catch(e){}}};var w,x=(w=0,{next:function(){return"__STICKY_ID_"+ ++w+"_"+(new Date).getTime()}});function v(e){if(window.DOMMatrix||window.WebKitCSSMatrix){var t=(e=window.getComputedStyle(e)).transform||e.webkitTransform;return window.DOMMatrix?new window.DOMMatrix(t):new window.WebKitCSSMatrix(t)}}function y(e,t){return t.reduce((function(t,n){return t+function(e){var t=parseFloat(e);return isNaN(t)?0:t}(e[n])}),0)}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var k,C,S=new Set(["absolute","fixed","relative","sticky"]),E=18,T={captureStyleChanges:[],fixedElements:[],bottomAbsElts:[],isFirstPage:!1,init:function(){this.add(document.documentElement,{scrollBehavior:"auto"});var e=document.body;e&&"scroll"===window.getComputedStyle(e).overflowY&&this.add(e,{overflowY:"visible"}),this._initHangAbsolutes(),this._initFixedPseudos(),this.hideScrollbars(),this.parallaxHacks(),this.disableTransitions(),this.hacks()},_add:function(e,t,n){if(e&&e.style){var o=e.style.cssText;this._applyStyles(e,t),n.push({type:"changeCssText",elt:e,cssTextBefore:o,cssTextAfter:e.style.cssText})}},add:function(e,t){return this._add(e,t,this.captureStyleChanges)},addFixed:function(e,t){return this._add(e,t,this.fixedElements)},addBottomAbs:function(e,t){return this._add(e,t,this.bottomAbsElts)},_pop:function(e){var t=e.pop();if(t)switch(t.type){case"addStyle":t.elt.parentNode&&t.elt.parentNode.removeChild(t.elt);break;case"changeCssText":t.elt.style.cssText=t.cssTextBefore}},handleScrollNode:function(e){e&&this.add(e,{scrollBehavior:"auto"})},popAll:function(){for(;this.captureStyleChanges.length>0;)this._pop(this.captureStyleChanges)},popAllFixed:function(){for(;this.fixedElements.length>0;)this._pop(this.fixedElements)},popAllAbs:function(){for(;this.bottomAbsElts.length>0;)this._pop(this.bottomAbsElts)},dealBottomAbsoltesInner:function(e,t){var n=document.body;if(n&&!/osmz.ru/.test(window.location.host))for(var o=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT),i=o.nextNode();null!==i;){var a=window.getComputedStyle(i);if("absolute"===a.position){var r=f(i),l=i.nodeName.toLocaleLowerCase();if(("iframe"===l||"img"===l)&&parseInt(a.width)<=5&&parseInt(a.height)<5);else if(r.width>0&&r.height>0&&r.height+r.top>=window.innerHeight-36&&r.height+r.top<=window.innerHeight&&r.height<200&&r.top<window.innerHeight){var s=i.parentNode,d=window.getComputedStyle(s),c=!0;if((r.left+r.width-2<t.x/window.devicePixelRatio||r.left+r.width>(t.x+t.width)/window.devicePixelRatio)&&(c=!1),(parseInt(d.height)===r.height||parseInt(d.height)-r.height<=100)&&("absolute"===d.position||"relative"===d.position)||e&&"fixed"===d.position&&parseInt(d.height)===window.innerHeight||!c){i=o.nextNode();continue}!0,this.addBottomAbs(i,{visibility:"hidden",opacity:"0",overflow:"hidden"})}i=o.nextNode()}else i=o.nextNode()}},_initHangAbsolutes:function(){var e=this,t=document.body;if(t&&!/osmz.ru/.test(window.location.host)){var n=window.getComputedStyle(t);if(!S.has(n.position)){for(var o=[],i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),a=i.nextNode();null!==a&&a;){var r=window.getComputedStyle(a),l=r.position;if("absolute"===l){var s=a.nodeName.toLocaleLowerCase();("iframe"===s||"img"===s)&&parseInt(r.width)<=5&&parseInt(r.height)<5||o.push({ele:a,style:r}),a=i.nextNode()}else S.has(l)?(a=i.nextSibling())||(a=H(i)):a=i.nextNode()}var d=t.getBoundingClientRect(),c=d.left+window.scrollX,p=d.top+window.scrollY;o.forEach((function(t){var o=t.ele,i=t.style,a=i.width,r=i.height,l=isNaN(parseFloat(i.left))?0:parseFloat(i.left),s=isNaN(parseFloat(i.right))?0:parseFloat(i.right),d=isNaN(parseFloat(i.top))?0:parseFloat(i.top)+(isNaN(parseFloat(n.marginTop))?0:parseFloat(n.marginTop)),h=l;l<0&&l===s&&Math.abs(parseInt(l))>parseInt(window.innerWidth/2)&&(h=0);var u={width:a,height:r,left:h-c+"px",top:d-p+"px",right:"auto",bottom:"auto"};e.add(o,u)}))}}},initFixed:function(){var e=document.body&&window.getComputedStyle(document.body);if(e&&"absolute"!==e.position&&"fixed"!==e.position){var t={position:"relative"};if("inline"===e.display&&(t.display="block"),0===parseInt(e.width)||0===parseInt(e.height))return void(/nullschool.net/.test(window.location.host)||this.add(document.body,{backgroundColor:"transparent",backgroundImage:"none"}));var n=!1;/venca.es/.test(window.location.host)&&(n=!0);var o=!1;if("none"===e.maxWidth&&0===parseInt(e.minWidth)&&0===parseInt(e.marginLeft)&&(!n&&(t.minWidth="100vw"),o=this.isBoxSizingRisky(e)),"none"===e.maxHeight&&0===parseInt(e.minHeight)&&(t.minHeight="100vh",o=o||this.isBoxSizingRisky(e,!0)),"0px"!==e.marginTop){var i=parseInt(e.paddingTop)+parseInt(e.marginTop);t.paddingTop=i+"px",t.marginTop="0px",o=!0}if("0px"!==e.marginBottom){var a=parseInt(e.paddingBottom)+parseInt(e.marginBottom);t.paddingBottom=a+"px",t.marginBottom="0px",o=!0}o&&(t.boxSizing="border-box"),this.add(document.body,t)}},_initFixedPseudos:function(){var e=this;if(document.body&&!/ulikecam.com/.test(window.location.host))for(var t=document.createTreeWalker(document.body,NodeFilter.SHOW_ELEMENT),n=t.nextNode();null!==n&&n;){window.getComputedStyle(n).position;var o=n.getBoundingClientRect();if(o.width>.75*window.innerWidth&&o.height>.75*window.innerHeight){var i=!1;o.width>=window.innerWidth-E&&o.height>=window.innerHeight-E||["::before","::after"].forEach((function(t){if("fixed"===window.getComputedStyle(n,t).position){i=!0,n.id||(n.id=x.next());var o="#"+window.CSS.escape(n.id)+t+" { position: absolute; }";e.addStyleSheet(o)}})),i?(n=t.nextSibling())||(n=H(t)):n=t.nextNode()}else n=t.nextNode()}},_getFixedStickyEles:function(e){var t={fixed:[],sticky:[],fixedBg:[],fixedHeader:[],fixedBottom:[]},n=!1;/awesomescreenshot.com/.test(window.location.host)&&(n=!0);var o=n?document.body:e||document.body;if(!o)return t;for(var i,a=document.createNodeIterator(o,NodeFilter.SHOW_ELEMENT,null,!1);i=a.nextNode();)if(i!==o){var r=window.getComputedStyle(i),l=r.position;if("sticky"===l)t.sticky.push(i);else if("fixed"===l){var s=f(i),d=window.innerHeight-s.top-20;if(s.top<20&&s.height<d)t.fixedHeader.push(i);else{if(s.top+s.height<=0&&s.height>0||s.left+s.width<=0&&s.width>0||s.top>window.innerHeight+1&&s.height>0||s.left>window.innerWidth&&s.width>0)continue;if(s.height>0&&s.height<350&&s.top+s.height>=window.innerHeight-20&&"hidden"!==r.visibility)t.fixedBottom.push(i);else{if(s.height>=window.innerHeight&&s.width>=2*window.innerWidth/3&&s.width!==window.innerWidth)continue;if(this._hasOverflowHiddenParent(i))continue;t.fixed.push(i)}}"fixed"===r.backgroundAttachment&&t.fixedBg.push(i)}}return t},updateFixed:function(e,t,n,o,i){var a=this,r=this._getFixedStickyEles(e),l=r.fixed,s=r.sticky,d=(r.fixedBg,r.fixedHeader),c=r.fixedBottom;t||d.forEach((function(e){a.isFirstPage||a.addFixed(e,{visibility:"hidden",overflow:"hidden",opacity:0})})),c.forEach((function(e){i?a.addFixed(e,{visibility:"visible"}):a.addFixed(e,{visibility:"hidden",overflow:"hidden",opacity:0})})),l.forEach((function(e){if("fixed"===e.dataset.position&&e.classList.contains("siteBackgroundcurrent"));else{var t=window.getComputedStyle(e),i=parseFloat(t.left),r=parseFloat(t.right),l=parseFloat(t.top),s=parseFloat(t.bottom),d=parseFloat(t.width),c=parseFloat(t.height),p=e.scrollHeight,h=t.overflowY,u=e.computedStyleMap(),m={};f(e);["left","right","top","bottom","width","height"].forEach((function(e){m[e]=u&&"auto"!==u.get(e).value})),a.addFixed(e,{position:"absolute",transition:"none"});var b=e.offsetParent;if(b){var g=f(b),w=i-g.left,x=r-(o-(g.left+g.width)),v=l-g.top,y=s-(n-(g.top+g.height)),_=!1,k={};if(!isNaN(w)&&(w<=0||w<i)?(_=!0,m.left||m.right?(m.left&&(k.left=w+"px"),m.right&&(k.right=x+"px")):k.left=w+"px"):m.right&&!isNaN(x)&&(_=!0,k.right=x+"px"),!isNaN(v)&&(v<=0||v<l)){_=!0;var C=c;"scroll"!==h&&"auto"!==h||(C=Math.max(C,p)),k.height=C+"px",m.top||m.bottom?(m.top&&m.bottom&&delete k.height,m.top&&(k.top=v+"px"),m.bottom&&(k.bottom=y+"px")):0===s&&0!==e.offsetParent.getBoundingClientRect().height?k.bottom="0px":(k.top=v+"px",k.bottom="auto")}else m.bottom&&!isNaN(y)&&(_=!0,0==s&&0!==e.offsetParent.getBoundingClientRect().height?k.bottom="0px":k.bottom=y+"px");(k.left?k.right:!k.right)&&d===e.getBoundingClientRect().width||!m.width||(k.width=d+"px"),_&&(k.width&&(k.maxWidth=k.width),k.height&&(k.maxHeight=k.height),a.addFixed(e,k))}}}));s.forEach((function(e){var n=e.computedStyleMap(),o={};["left","right"].forEach((function(e){o[e]=n&&"auto"!==n.get(e).value}));var i={position:"relative"};o.top||(i.top="auto"),o.left||(i.left="auto"),o.right||(i.right="auto"),o.bottom||(i.bottom="auto"),!t&&a.add(e,i)}))},_hasOverflowHiddenParent:function(e){var t=e.parentNode;return!(!t||t===document.documentElement||t===document.body||"hidden"!==window.getComputedStyle(t).overflow)},hacks:function(){this._quoraHack(),this._adwordsStickyClassHack(),this._squarespaceHack(),this._notionHack()},_squarespaceHack:function(){this.addStyleSheet(".sqs-layout .sqs-row .sqs-block-content figure { opacity: 1 !important; }")},_quoraHack:function(){var e=window.location.host;("quora.com"===e||e.endsWith("quora.com"))&&this.addStyleSheet(".Answer.ActionBar.sticky { position: static !important }")},_adwordsStickyClassHack:function(){this.addStyleSheet('[stickyclass="sticky"], ess-particle-table [role="row"], [acxscrollhost] .header-sticky-container  { transform: translate(0px, 0px) !important }')},_notionHack:function(){document.querySelector(".notion-scroller")&&this.addStyleSheet(".notion-scroller > .notion-table-view > .notion-selectable > div { transform: none !important; }")},hideScrollbars:function(){(this.isMobile()||this._isImage())&&this.add(document.documentElement,{overflow:"hidden"}),this._hideScrollbars(["html","body"]),this._hideScrollbarThum(["html","body"]),!/ulikecam.com/.test(window.location.host)&&!/iste.org/.test(window.location.host)&&!/rakuten-wallet.co.jp/.test(window.location.host)&&"dispatchEvent"in window&&window},hideScrollbarsInner:function(e){if(e.id||(e.id=x.next()),this._twitchHideScrollbars(e));else{var t="#"+window.CSS.escape(e.id);this._gmailHideScrollbars(t),this._hideScrollbars([t]);var n=["overflow","overflowY","overflowX"],o={};n.forEach((function(t){return o[t]=e.style[t]})),e.style.overflow="hidden",e.offsetWidth,n.forEach((function(t){return e.style[t]=o[t]}))}},_twitchHideScrollbars:function(e){if(e.classList&&e.classList.contains("simplebar-scroll-content")){var t=Array.from(e.parentNode.childNodes).find((function(e){return e.nodeType===e.ELEMENT_NODE&&e.classList&&e.classList.contains("simplebar-track")&&e.classList.contains("vertical")}));return this.add(t,{opacity:0}),!0}return!1},_gmailHideScrollbars:function(e){var t=["::-webkit-scrollbar-button { width: 0 !important; height: 0 !important; display: none !important; }","::-webkit-scrollbar-corner { background-color: transparent !important; border: 0 !important }","::-webkit-scrollbar-thumb { background-color: transparent !important; box-shadow: none !important }"].map((function(t){return""+e+t})).join("\n");this.addStyleSheet(t)},isMobile:function(){return this._isTouch()},_isTouch:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},_isImage:function(){var e=document.contentType;return e&&e.startsWith("image/")},_hideScrollbars:function(e){var t=e.map((function(e){return e+"::-webkit-scrollbar"})).join(", ")+"{ width: 0 !important; height: 0 !important }";this.addStyleSheet(t)},_hideScrollbarThum:function(e){var t=["::-webkit-scrollbar-button { width: 0 !important; height: 0 !important; }","::-webkit-scrollbar-corner { background-color: transparent !important; border: 0 !important }","::-webkit-scrollbar-thumb { background-color: transparent !important; box-shadow: none !important }"].map((function(e){return""+e})).join("\n");this.addStyleSheet(t)},disableTransitions:function(){if(this.addStyleSheet("* {\n          transition: none !important;\n          transition-delay: 0s !important;\n          animation-duration: 0s !important;\n          animation-delay: 0s !important;\n        }"),document.querySelector("body > .Parallax-host-outer .Parallax-host")){var e="\n          .Parallax-item, .Parallax-item figure {\n            position: absolute !important;\n            transform: translate3d(0px, 0px, 0px) !important;\n          }";this.addStyleSheet(e)}var t="body.parallax-scrolling #parallax-images .image-container";document.querySelector(t)&&(e=t+", "+t+" img {\n              transform: translate3d(0px, 0px, 0px) !important;\n            }\n        ",this.addStyleSheet(e))},parallaxHacks:function(){if(['div[data-effect="BackgroundParallax"] > .bgImage','div[data-effect="BackgroundParallaxZoom"] > .bgImage'].some((function(e){return document.querySelector(e)}))){var e='\ndiv[data-effect="BackgroundParallax"] {\n  position: absolute !important;\n  left: auto !important;\n  top: auto !important;\n}\ndiv[data-effect="BackgroundParallaxZoom"] {\n  position: absolute !important;\n}\n.bgImage[data-type="image"] {\n  transform: translate3d(0, 0, 0) !important;\n}\n        ';this.addStyleSheet(e)}document.querySelector(".enable-load-effects .Parallax-host .Parallax-item figure")&&(e=".enable-load-effects .Parallax-host .Parallax-item figure { opacity: 1 !important; transition: all 0 ease-in-out; }",this.addStyleSheet(e))},addStyleSheet:function(e){var t=document.createElement("style");t.innerHTML=e;var n=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];n&&(n.appendChild(t),this.captureStyleChanges.push({elt:t,type:"addStyle"}))},_applyStyles:function(e,t){if(e){var n=e.style.cssText+"; ";for(var o in t)n+=this._camelToDash(o)+": "+t[o]+" !important; ";e.style.cssText=n}},_camelToDash:function(e){return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()},isBoxSizingRisky:function(e,t){var n=["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"];!0!==t&&n.push("paddingRight","paddingLeft","borderRightWidth","borderRightWidth");var o=n.some((function(t){return e[t]&&"0px"!==e[t]}));return"content-box"===e.boxSizing&&o}};function M(e,t,n){this.origBodyZeroHieght=e,this.origWindowScrollx=t,this.origWindowScrolly=n,this.scrollPart=null,this.scrollNode=null,this.scrollClientHeight=0,this.regions=[],this.bgRegions=[],this.positions=[],this.bottomPostion=null,this.topCapturePostion=null,this.contentClip=null,this.numPositions=0,this.docs=document.documentElement,this.body=document.body,this.dimensions=this.getDimensions()}function P(e){return{x:e.x*window.devicePixelRatio,y:e.y*window.devicePixelRatio,width:e.width*window.devicePixelRatio,height:e.height*window.devicePixelRatio}}function H(e){if(e){e.parentNode();var t=e.nextSibling();return t||e.currentNode===document.body?t:H(e)}return null}function R(e){return Math.max.apply(null,e.filter((function(e){return"number"==typeof e})))}function z(e,t){if(e===t)return!0;var n=_(e);return null!=e&&null!=t&&n===_(t)&&("object"!==n||0===Object.keys(t).filter((function(n){return!0!==z(e[n],t[n])})).length)}M.prototype.parpareDeal=function(){this.scrollPart||this.getScrollPart(),this._setRegions(),this._setPositions()},M.prototype.getScrollNode=function(){var e=this;if(this.scrollNode)return this.scrollNode;if("empty"===this.scrollPart.type||"frame"===this.scrollPart.type){var t=null,n=0,o=0,i=null;if(this.positions.forEach((function(e){e.capture.height>=n&&(n=e.capture.height,t=e.elt,o=e.clip.height,i=e.clip)})),t){var a=200;(/7mkr.com/.test(window.location.host)||/Mobi/.test(navigator.userAgent))&&(a=0),this.scrollNode=t!==window?t:document.scrollingElement,this.scrollClientHeight=o-a,this.topCapturePostion=P(i),i.y+=a,i.height-=a,this.contentClip=P(i)}else this.scrollNode=document.scrollingElement,this.scrollClientHeight=document.scrollingElement.clientHeight,this.contentClip={x:0,y:0*window.devicePixelRatio,width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio},this.topCapturePostion={x:0,y:0,width:window.innerWidth*window.devicePixelRatio,height:window.innerHeight*window.devicePixelRatio};return this.scrollNode}if("elt"===this.scrollPart.type){a=100;return/Mobi/.test(navigator.userAgent)&&(a=20),this.scrollNode=this.scrollPart.elt,this.scrollClientHeight=this.scrollPart.height-a,this.positions.forEach((function(t){t.isMain&&t.clip.y>0&&t.clip.height<window.innerHeight?e.bottomPostion=P(t.clip):t.isMain&&0===t.clip.x&&0===t.clip.y?e.topCapturePostion=P(t.clip):t.isMain||(t.clip.y+=a,t.clip.height-=a,e.contentClip=P(t.clip))})),this.scrollNode}},M.prototype._setRegions=function(){var e=[],t=[],n=this.scrollPart,o=this.dimensions,i=o.fullWidth,a=o.fullHeight,r=window,l=o.bodyMaxHeight,s=o.docEltMaxHeight;if(l-20>s&&s<=window.innerHeight&&(r=this.body),"empty"!==n.type&&n.ready){var d=n.bottom<a,c=n.right<i,p=null,h=null;if("elt"===n.type?h={type:"inner_elt",page:{elt:n.elt,eltHeight:n.height,eltWidth:n.width,eltOffsetLeft:n.left,eltOffsetTop:n.top,top:0,left:0,right:n.width,bottom:n.scrollHeight},capture:{x:n.left,y:n.top,width:n.width,height:n.scrollHeight}}:"frame"===n.type&&(h={type:"inner_frame",page:{eltHeight:n.height,eltWidth:n.width,eltOffsetLeft:n.left,eltOffsetTop:n.top,top:0,left:0,right:n.scrollWidth,bottom:n.scrollHeight},capture:{x:n.left,y:n.top,width:n.scrollWidth,height:n.scrollHeight}}),d&&c&&e.push({type:"main",page:{elt:r,top:n.bottom,left:n.right,right:i,bottom:a},capture:{delay:0,x:n.right,y:n.bottom+(n.scrollHeight-n.height),width:i-n.right,height:a-n.bottom}}),d){p={type:"main",page:{elt:r,top:n.bottom,left:0,right:n.right,bottom:a},capture:{delay:0,x:0,y:n.bottom+(n.scrollHeight-n.height),width:n.right,height:a-n.bottom}},e.push(p);var u=p.capture.height,m=p.capture.y;t.push({type:"fill",fill:{x:p.capture.x+p.capture.width,y:m,width:h.capture.width-n.width,height:u},sample:{x:h.capture.x,y:m,height:u,width:n.width}})}if(c){p={type:"main",page:{elt:r,top:0,left:n.right,right:i,bottom:n.bottom},capture:{delay:0,x:n.right,y:0,width:i-n.right,height:n.bottom}},e.push(p);var b=p.capture.width,g=p.capture.x,f=p.capture.y+p.capture.height;t.push({type:"fill",fill:{x:g,y:f,width:b,height:h.capture.y+h.capture.height-f},sample:{x:g,y:h.capture.y,width:b,height:p.page.bottom-h.capture.y}})}p={type:"main",page:{elt:r,top:0,left:0,right:n.right,bottom:n.bottom},capture:{delay:0,x:0,y:0,width:n.right,height:n.bottom}},e.push(p);var w=p.capture.y+p.capture.height,x=h.capture.x;t.push({type:"fill",fill:{x:0,y:w,width:x,height:h.capture.y+h.capture.height-w},sample:{x:0,y:h.capture.y,width:x,height:p.page.bottom-h.capture.y}}),w=0,e.push(h),this.dimensions.fullWidth+=Math.max(0,h.page.right-h.page.eltWidth),this.dimensions.fullHeight+=Math.max(0,h.page.bottom-h.page.eltHeight)}else e.push({type:"main",page:{elt:r,top:0,left:0,right:i,bottom:a},capture:{x:0,y:0,width:i,height:a}});this.regions=e,this.bgRegions=t,function(e){var t={type:"",page:{top:1,left:1,right:1,bottom:1},capture:{x:1,y:1,width:1,height:1}},n={eltHeight:1,eltWidth:1,eltOffsetTop:1,eltOffsetLeft:1};if(0!==e.filter((function(e,o){var i=!1;return z(e,t)||(i=!0),"inner_elt"!==e.type&&"inner_frame"!==e.type||z(e.page,n)||(i=!0),i})).length)throw new Error("Bad regions setup!")}(e),function(e){var t={x:1,y:1,width:1,height:1};if(0!==e.filter((function(e){["sample","fill"].filter((function(n){return!e[n]||!z(e[n],t)&&!0})).length})).length)throw new Error("Bad bgRegions setup!")}(t)},M.prototype._setPositions=function(){var e=this.dimensions,t=e.windowWidth,n=e.windowHeight,o=(e.fullWidth,[]);this.regions.forEach((function(e){if("inner_frame"!==e.type){var i=e.page,a={x:i.left,y:i.top,width:Math.min(t,i.right-i.left),height:Math.min(n,i.bottom-i.top)};if("main"!==e.type&&(a.x+=e.page.eltOffsetLeft||0,a.y+=e.page.eltOffsetTop||0,a.width=e.page.eltWidth||a.width,a.height=e.page.eltHeight||a.height),0!==a.width&&0!==a.height){var r=Object.assign({},a),l=Object.assign({},e.capture);if(r.height-0>0&&l.height-0>0){r.y+=0,r.height-=0,l.y+=0,l.height-=0;"inner_elt"===e.type&&e.page.eltHeight,"inner_elt"===e.type&&e.page.eltWidth;var s={isMain:"main"===e.type,isFrame:!1,isTopOfElt:!1,elt:e.page.elt,scrollX:0,clip:a,capture:e.capture};o.push(s)}}}else h.push({isFrame:!0})})),this.positions=o,this.numPositions=o.length,o.forEach((function(e,t){e.index=t}))},M.prototype.getScrollPart=function(){var e=this.dimensions;if(this.scrollPart)return this.scrollPart;var t=function(e,t,n,o,i){var a={type:"empty"};if(o>t+15||!(i=i||document.body))return a;if(!g(i)){var r=function(e){for(var t=window.innerWidth,n=window.innerHeight,o=e,i=null,a=null,r=0,l=document.createTreeWalker(e||document.body,NodeFilter.SHOW_ELEMENT),s=l.nextNode();null!=s;){var d=s.offsetHeight,c=s.scrollHeight,p=!1,h=s.nodeName.toLocaleLowerCase();if(c>d+5&&d>50&&s.offsetWidth>60&&"iframe"!==h){var u=f(s),m=u.width*u.height;if(m>r)if(0==u.left&&u.width/window.innerWidth<.3);else{var b=window.getComputedStyle(s),g=b.overflowY,w=["ps-active-y","ps--active-y"],x=["ps","ps-container"].some((function(e){return s.classList.contains(e)}))&&w.some((function(e){return s.classList.contains(e)}));"none"!==b.pointerEvents&&("hidden"!==g&&"visible"!==g||x)&&u.left+E>=0&&u.left+u.width<t+E+200&&u.top+E>=0&&(u.top+u.height<n+E||c>n+E+100)&&(p=!0,i=b,r=m,o=s,a=u)}}p?(s=l.nextSibling())||(s=H(l)):s=l.nextNode()}var v=(a=a||f(o)).height,y=a.width,_=o.scrollWidth,k=o.scrollHeight;if("hidden"==(i&&i.overflowX)){x=parseFloat(i.paddingLeft)||0;var C=parseFloat(i.paddingRight)||0;a.left+=x,y-=x+C,_-=C+C}if(o===document.body)return null;if(e!==document.body&&o===e&&Math.abs(_-y)<=2&&Math.abs(k-v)<=2)return null;var S=a.left;return o.classList.contains("bodyCells")&&document.querySelector(".pivotTableContainer .bodyCells")===o&&(y=S+y,S=0),a.left+y>innerWidth&&a.left<t&&(y=t-a.left),a.top+v>innerHeight&&a.top<innerHeight&&(v=n-a.top),{type:"elt",elt:o,scrollHeight:Math.max(v,k),scrollWidth:Math.max(y,_),top:a.top,bottom:a.top+v,left:S,right:S+y,height:v,width:y,ready:!0}}(i);if(r)return r}return function(e,t){var n=Array.from(document.querySelectorAll("iframe, frame")),o=Math.min(e*t/4,18e4),i=0,a=null;return n.forEach((function(n){var r=f(n),l=r.width,s=r.height,d=l*s;if(d>=o&&d>i&&r.left+E>=0&&r.left+r.width<=e+E&&r.top+E>=0&&r.top+r.height<=t+E+40){i=d;var c=r.left,p=r.top;a={type:"frame",frame:n,width:l,height:s,top:p,left:c,url:n.src,tagName:n.nodeName.toLowerCase(),bottom:p+s,right:c+l,ready:!1}}})),null!==a?a:null}(e,t)||a}(e.windowWidth,e.windowHeight,e.fullWidth,e.fullHeight);return this.scrollPart=t,t},M.prototype.getDimensions=function(){var e=this.body,t=this.docs,n=window.innerWidth,o=window.innerHeight,i=e?window.getComputedStyle(e):{},a=[t.clientWidth,t.offsetWidth,e?e.offsetWidth:0],r="hidden"===i.overflowY&&"hidden"===i.overflowX,l=[t.clientHeight,t.offsetHeight,r?0:t.scrollHeight],s=[e?e.offsetHeight:0,e&&!r?e.scrollHeight:0],d=R(l),c=R(s),p=R([d,c]),h=R(a);return{windowWidth:n,windowHeight:o,bodyMaxHeight:c,docEltMaxHeight:d,fullWidth:h,fullHeight:p,nonadjustedFullHeight:p,nonadjustedFullWidth:h,root:void 0}};var W,L,N,I,A,F,B,O=null,q={},X=!1,Y=!1,D=!1,j=0,U="ontouchend"in document,K={drawStyle:{},updateStyle:function(e){this.drawStyle=e}},V=["windows-cursor","cursor","cursor-hand","cursor-hand-black","cursor-click","smile","cry","tick-off","cross","forbidden","warning","q-mark","like","heart","star","chicken","dog","rain","sun","cloud","thunder","fish","fish2","tree1","tree2","building1","building2","package","tent","umbrella","car","basketball","beer"],Z=["callout","list","list","image","insertImage"],J={red:"#ff0000",blue:"#4887e8",green:"#00ff00",yellow:"#f1c231",gray:"#666666",white:"#ffffff"},G={personType:0,loginStatus:!1,iframeMark:"",autoOnline:!1,iframeStatus:!1,setupStatus:!1,temImage:{},resetStatus:function(){this.temImage=null,this.iframeStatus=!1,this.setupStatus=!1},holdTemImage:function(e){e&&(this.temImage=e)},updateAutoOnline:function(e){this.autoOnline=e},updateIframeMask:function(e){this.iframeMark=e},updateType:function(e){this.personType=e,de()},updateStatus:function(e){this.loginStatus=e,e?ke(!1,!0):F&&$(F).css("display","block")},captureSelectAction:function(t,n){!function(t,n){var o="save";n?(t&&(o="copy"),$(A).find("#awesome_screenshot_capture").addClass("no-after")):o="annotate";if(X)se(o),e({action:"currentTab"});else{X=!0;var r=k.querySelector("#awesome_screenshot_center");me(k.querySelector("#awesome_screenshot_size"),"display","none"),i(document.location.hostname);try{C.deselect(r)}catch(e){}C.enabled=!1,me(r,"outline","none"),T.init(),/schoology.com/.test(window.location.host);var l=document.documentElement,s=re(document.scrollingElement),d=c(),p=l.clientWidth,h=C.elmX,u=C.elmY,m=C.elmW,b=C.elmH;b>d&&(T.initFixed(),T.updateFixed(document.scrollingElement,!0,document.scrollingElement.scrollHeight,window.innerWidth));var g=h-function(e){if(!e)return window.pageXOffset;return e.scrollLeft||(document.scrollingElement?document.scrollingElement.scrollLeft:document.defaultView.pageXOffset)}(document.scrollingElement),f=u-re(document.scrollingElement);if(u<s&&b>d?(g<=0&&(document.scrollingElement.scrollLeft=h),f<=0?document.scrollingElement.scrollTop=u:(k.style.paddingTop=f+"px",document.scrollingElement.scrollTop+=f)):u<s&&(document.scrollingElement.scrollTop=u,f=0,s=u),He(),ce(h,u,m,b),a(document.location.hostname),$e(!0),u<s){if(m<=p&&b<=d)return void setTimeout(e,300,{action:"visible",counter:1,ratio:b%d/d,scrollBar:{x:!1,y:!1},centerW:(m<=0?1:m)*window.devicePixelRatio,centerH:(b<=0?1:b)*window.devicePixelRatio,menuType:"selected",userAction:o});var w=G.getCenterPosition();setTimeout(e,300,{action:"scroll_next_done",menuType:"selected",data:{x:w.left*window.devicePixelRatio,y:w.top*window.devicePixelRatio},centerW:w.width*window.devicePixelRatio,centerH:w.height*window.devicePixelRatios,userAction:o,isFirstScroll:!0,windowHeight:window.innerHeight*window.devicePixelRatio})}else setTimeout((function(){e({action:"capture_selected_done",data:{x:g*window.devicePixelRatio,y:f*window.devicePixelRatio,w:(m<=1?1:m)*window.devicePixelRatio,h:(b<=1?1:b)*window.devicePixelRatio},userAction:o})}),100)}}(t,n)},getSetupStatus:function(){return this.setupStatus},getIframeSatus:function(){return this.iframeStatus},getCenterPosition:function(){var e=k.querySelector("#awesome_screenshot_center"),t=be(e,"left");return{top:be(e,"top"),left:t,width:be(e,"width"),height:be(e,"height")}}},Q={drawFrameInsert:!1,shape:"",style:{},updateFrameStatus:function(e){this.drawFrameInsert=e,this.shape&&this.shape.length>0&&e?this.postMessage(!1):e||e||(this.drawFrameInsert=!1,this.shape="",this.style={})},postMessage:function(e){if(this.drawFrameInsert){var t=Z.indexOf(this.shape);0==G.personType&&t>=0&&(de(),$("#screenshot_iframe").css("z-index",2147483631)),e||se("premiumPlan",!(G.personType>0)),$("#screenshot_iframe")[0].contentWindow.postMessage({type:"drawAction",data:{type:"style",shape:this.shape,style:this.style,changeType:e}},"*")}},updateCurentStyle:function(e,t,n){if(this.shape=e,t){if(t.width)switch(t.width){case"small":this.style.width="text"==e||"callout"==e?22:2;break;case"middle":this.style.width="text"==e||"callout"==e?32:4;break;case"big":this.style.width="text"==e||"callout"==e?48:8;break;default:this.style.width="text"==e||"callout"==e?22:2}else this.style.width="text"==e||"callout"==e?32:4;t.color?this.style.color=J[t.color]:this.style.color=J.red}"insertImage"!=e&&"image"!=e||(this.style=t||{}),this.postMessage(n)}};function ee(t){if(e({action:"getPersonType"}),!document.querySelector("#as_select_wrapper")&&!m()){G.setupStatus=!0,D=!1;var n='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n.unselectable {\n  -webkit-user-select: none;\n}\n#awesome_screenshot_wrapper {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 21474836;\n  /* MAX:2147483647 */\n  cursor: crosshair;\n  background-color: rgba(0, 0, 0, 0.3);\n  font: normal normal normal 12px/1 Helvetica, arial, sans-serif;\n  box-sizing: content-box !important;\n}\n#awesome_screenshot_wrapper * {\n  box-sizing: border-box !important;\n}\n#awesome_screenshot_wrapper > div {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: auto;\n}\n#awesome_screenshot_top {\n  top: 0;\n  left: 0;\n}\n#awesome_screenshot_right {\n  top: 0;\n  right: 0;\n}\n#awesome_screenshot_bottom {\n  right: 0;\n  bottom: 0;\n}\n#awesome_screenshot_left {\n  bottom: 0;\n  left: 0;\n}\ndiv#awesome_screenshot_center {\n  cursor: move;\n  outline: 1.5px dashed #d5d5d5;\n  background-color: rgba(0, 0, 0, 0);\n}\n.dragresize {\n  display: block !important;\n  position: absolute !important;\n  z-index: 999 !important;\n  width: 9px !important;\n  height: 9px !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNqMUDEOgCAMrA58CFZX3uDIU/iBX3D0DawkTCS8xhBYao84aOLgJZdy10sLTMxMgDHGSVmFizAKj5zzPpoIaa037z2nlLjWOio0/DFEDg5Ga42fgL6DbsYKay0ppegJaPjjCpI8seIL8NHHpFhKoS/cfkToCCFQ7/0VgIaP/q/XTX/+6RJgAEc6j4dkIiynAAAAAElFTkSuQmCC);\n  background-position: center center !important;\n  background-repeat: no-repeat !important;\n  font-size: 0.1px !important;\n}\n.dragresize-tl {\n  top: -5px;\n  left: -5px;\n  cursor: nw-resize;\n}\n.dragresize-tm {\n  top: -5px;\n  width: 100% !important;\n  cursor: n-resize;\n}\n.dragresize-tr {\n  top: -5px;\n  right: -5px;\n  cursor: ne-resize;\n}\n.dragresize-ml {\n  left: -5px;\n  height: 100% !important;\n  cursor: w-resize;\n}\n.dragresize-mr {\n  right: -5px;\n  height: 100% !important;\n  cursor: e-resize;\n}\n.dragresize-bl {\n  left: -5px;\n  bottom: -5px;\n  cursor: sw-resize;\n}\n.dragresize-bm {\n  bottom: -5px;\n  width: 100% !important;\n  cursor: s-resize;\n}\n.dragresize-br {\n  right: -5px;\n  bottom: -5px;\n  cursor: se-resize;\n}\n#awesome_screenshot_size {\n  display: none;\n  position: absolute;\n  top: -30px;\n  left: 0;\n}\n#awesome_screenshot_size span {\n  padding: 2px 10px;\n  border-radius: 10px;\n  background-color: rgba(0, 0, 0, 0.7);\n  color: #eee;\n  text-align: center;\n  line-height: 20px;\n}\nfont {\n  pointer-events: none;\n}\n#awesome_screenshot_action {\n  display: none;\n  position: absolute;\n  right: 0;\n  background-color: #32343e;\n  z-index: 2147483630;\n  text-align: center;\n  overflow: hidden;\n  border-radius: 2px;\n  height: 38px;\n  font-size: 16px !important;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.9);\n}\n#awesome_screenshot_action .awesome_action_btn {\n  display: inline-block;\n  line-height: 38px;\n  height: 38px;\n  background: #32343e;\n  color: white;\n  font-size: 14px;\n  font-weight: 400;\n  font-family: PingFang SC;\n  padding-left: 18px;\n  padding-right: 18px;\n  text-decoration: none !important;\n  cursor: pointer;\n}\n#awesome_screenshot_action .awesome_action_btn.cancel span {\n  display: none;\n  position: relative;\n  width: 14px;\n  height: 1px;\n  background-color: white;\n  transform: rotate(45deg);\n  border-radius: 0.5px;\n  left: -4.5px;\n  bottom: 4.5px;\n}\n#awesome_screenshot_action .awesome_action_btn.cancel span:after {\n  display: block;\n  content: "";\n  position: absolute;\n  width: 14px;\n  height: 1px;\n  background-color: white;\n  transform: rotate(90deg);\n  border-radius: 0.5px;\n}\n#awesome_screenshot_action .awesome_action_btn.copy span {\n  display: inline-block;\n  position: relative;\n  width: 16px;\n  height: 16px;\n  left: -3px;\n  bottom: -3px;\n  background-size: 16px 16px;\n}\n#awesome_screenshot_action .awesome_action_btn:active {\n  background-color: #191a1e;\n}\n.tooltip {\n  position: relative;\n}\n.tooltip::after {\n  content: attr(aria-label);\n  background: rgba(0, 0, 0, 0.6);\n  color: #fff;\n  padding: 4px 6px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 2px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 5px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.tooltip.tooltip-bottom::after {\n  height: 12px;\n  top: 24px;\n  transition-delay: 0.6s;\n}\n.tooltip-bottom.no-after::after {\n  display: none;\n}\n.tooltip.tooltip-right::after {\n  right: auto;\n  left: 0;\n  transform: translate3d(0, 0, 0);\n}\n.tooltip:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.tooltip.delay:hover::after {\n  transition-delay: 0.3s;\n}\n.border-style {\n  display: none;\n  background-color: #5794ff;\n  position: fixed;\n  z-index: 2147483621;\n}\n.border-style.top {\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n}\n.border-style.left {\n  top: 0px;\n  left: 0px;\n  bottom: 0px;\n  width: 5px;\n}\n.border-style.right {\n  top: 0px;\n  right: 0px;\n  bottom: 0px;\n  width: 5px;\n}\n.border-style.bottom {\n  bottom: 0px;\n  left: 0px;\n  right: 0px;\n  height: 5px;\n}\n.annotate_toolbar {\n  display: none;\n  position: absolute;\n  right: -44px;\n  width: 62px;\n  padding: 1px;\n  font-size: 16px;\n  font-family: sans-serif;\n  background-color: #32343e;\n  border-radius: 2px;\n  box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.9);\n  z-index: 2147483630;\n  box-sizing: border-box !important;\n  cursor: pointer;\n}\n.annotate_toolbar .file-input {\n  display: none;\n}\n.annotate_toolbar .svg-panel {\n  display: none;\n  position: absolute;\n  background-color: white;\n  border-radius: 4px;\n  width: 180px !important;\n  height: 177px;\n  top: 0px;\n  overflow-y: scroll;\n  line-height: 48px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.25);\n}\n.annotate_toolbar .svg-panel.right {\n  left: 64px;\n}\n.annotate_toolbar .svg-panel.left {\n  right: 64px;\n}\n.annotate_toolbar .svg-panel .image-item {\n  width: 48px;\n  height: 48px;\n  background: white;\n  display: inline-block;\n  text-align: center;\n  cursor: pointer;\n  margin: 0 3px 6px 3px;\n}\n.annotate_toolbar .svg-panel .image-item:hover {\n  background: #e0ecff;\n}\n.annotate_toolbar .svg-panel .image-item img {\n  width: 44px;\n  height: 44px;\n  vertical-align: middle;\n}\n.annotate_toolbar .color_panel {\n  display: none;\n  width: 40px;\n  height: 200px;\n  top: 0px;\n  position: absolute;\n  background-color: #191a1e;\n  border-radius: 2px;\n  padding-top: 10px;\n  box-sizing: border-box;\n}\n.annotate_toolbar .color_panel.only_color {\n  height: 124px;\n}\n.annotate_toolbar .color_panel.left {\n  right: -46px;\n}\n.annotate_toolbar .color_panel.left .trangle {\n  left: -6px;\n  border-top: 6px solid transparent;\n  border-right: 6px solid #191a1e;\n  border-bottom: 6px solid transparent;\n}\n.annotate_toolbar .color_panel.right {\n  right: 66px;\n}\n.annotate_toolbar .color_panel.right .trangle {\n  left: 38px;\n  border-top: 6px solid transparent;\n  border-bottom: 6px solid transparent;\n  border-left: 6px solid #191a1e;\n}\n.annotate_toolbar .color_panel .trangle {\n  position: absolute;\n  top: 10px;\n  width: 8px;\n  height: 8px;\n  box-sizing: border-box !important;\n}\n.annotate_toolbar .color_panel .colors {\n  width: 14px;\n  margin-left: auto;\n  margin-right: auto;\n  text-align: center;\n}\n.annotate_toolbar .color_panel .colors .width_cell {\n  margin-bottom: 10px;\n  margin-left: auto;\n  margin-right: auto;\n  width: 14px;\n  height: 14px;\n  display: block;\n}\n.annotate_toolbar .color_panel .colors .width_cell.text .font {\n  display: block !important;\n}\n.annotate_toolbar .color_panel .colors .width_cell.hidden {\n  display: none;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font {\n  display: none;\n  color: #6e6e6e;\n  line-height: 14px;\n  pointer-events: none;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n  font-style: normal;\n  font-family: sans-serif;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.small {\n  font-size: 10px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.middle {\n  font-size: 14px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.big {\n  font-size: 18px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .font.selected {\n  color: white;\n}\n.annotate_toolbar .color_panel .colors .width_cell.shape .dot {\n  display: block !important;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot {\n  display: none;\n  border-radius: 50%;\n  pointer-events: none;\n  background-color: #6e6e6e;\n  margin-left: auto;\n  margin-right: auto;\n  position: relative;\n  top: 50%;\n  transform: translateY(-50%);\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.small {\n  width: 4px;\n  height: 4px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.middle {\n  width: 8px;\n  height: 8px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.big {\n  width: 12px;\n  height: 12px;\n}\n.annotate_toolbar .color_panel .colors .width_cell .dot.selected {\n  background-color: white;\n  color: white;\n}\n.annotate_toolbar .color_panel .colors .color_cell {\n  width: 14px;\n  height: 14px;\n  border-radius: 1px;\n  margin-bottom: 4px;\n  box-sizing: border-box !important;\n}\n.annotate_toolbar .color_panel .colors .color_cell.selected {\n  border: 1px solid white;\n}\n.annotate_toolbar .color_panel .colors .color_cell:active {\n  border: 1px solid white;\n}\n.annotate_toolbar .color_panel .colors .color_cell.red {\n  background-color: #ff0000;\n}\n.annotate_toolbar .color_panel .colors .color_cell.blue {\n  background-color: #4887e8;\n}\n.annotate_toolbar .color_panel .colors .color_cell.green {\n  background-color: #00ff00;\n}\n.annotate_toolbar .color_panel .colors .color_cell.yellow {\n  background-color: #f1c231;\n}\n.annotate_toolbar .color_panel .colors .color_cell.gray {\n  background-color: #666666;\n}\n.annotate_toolbar .color_panel .colors .color_cell.white {\n  background-color: #ffffff;\n}\n.annotate_toolbar .action_area {\n  display: block;\n  padding: 2px 5px;\n  line-height: 22px;\n}\n.annotate_toolbar .action_area .awesome_action_btn {\n  display: inline-block;\n  width: 52px;\n  height: 22px;\n  margin: 3px 0px;\n  color: white;\n  border-radius: 2px;\n  font-size: 12px;\n  text-align: center;\n  line-height: 22px;\n  background-color: #505362;\n}\n.annotate_toolbar .action_area .awesome_action_btn:hover {\n  background-color: #3c3f4b;\n}\n.annotate_toolbar .action_area .awesome_action_btn:active {\n  background-color: #191a1e;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save {\n  background-color: #5794ff;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save:hover {\n  background-color: #1f64dd;\n}\n.annotate_toolbar .action_area .awesome_action_btn.save:active {\n  background-color: #1f64dd;\n}\n.annotate_toolbar .shapes_area {\n  display: flex;\n  flex-direction: column;\n  flex-wrap: wrap;\n  height: 192px;\n  position: relative;\n}\n.annotate_toolbar .shapes_area .sep_line {\n  width: 46px;\n  height: 1px;\n  background-color: #d8d8d8;\n  position: absolute;\n  bottom: 30px;\n  left: 8px;\n  opacity: 0.26;\n}\n.annotate_toolbar .toolbar_item {\n  text-align: center;\n  position: relative;\n  display: inline-block;\n  margin: 4px 3px;\n  padding: 4px;\n  border-radius: 2px;\n}\n.annotate_toolbar .toolbar_item.action_item {\n  margin-top: 5px;\n  margin-bottom: 3px;\n}\n.annotate_toolbar .toolbar_item:hover {\n  background-color: #25272e;\n}\n.annotate_toolbar .toolbar_item:active {\n  background-color: #191a1e;\n}\n.annotate_toolbar .toolbar_item.selected {\n  background-color: #191a1e;\n}\n.annotate_toolbar .toolbar_item.isfree {\n  filter: brightness(0.6);\n}\n.annotate_toolbar .toolbar_item.disable {\n  pointer-events: none;\n  filter: brightness(0.6);\n}\n.annotate_toolbar .toolbar_item .toolbtn {\n  /* background-color: green; */\n  position: relative;\n  height: 16px;\n  width: 16px;\n  pointer-events: none;\n  background-size: 496px auto;\n  background-image: url(chrome-extension://__MSG_@@extension_id__/images/annotate_icons.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .annotate_toolbar .toolbar_item .toolbtn {\n    background-image: url(chrome-extension://__MSG_@@extension_id__/images/annotate_icons@2x.png);\n  }\n}\n.annotate_toolbar .toolbar_item .toolbtn.rect {\n  background-position: 0 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.ellipse {\n  background-position: -16px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.line_arrow {\n  background-position: -32px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.curve {\n  background-position: -48px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.rect_blur {\n  background-position: -64px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.text {\n  background-position: -80px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.callout {\n  background-position: -304px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.list {\n  background-position: -320px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.image {\n  background-position: -336px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.insertImage {\n  background-position: -352px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.clear-all {\n  background-position: -416px 0;\n}\n.annotate_toolbar .toolbar_item .toolbtn.undobtn {\n  background-position: -96px 0;\n}\n.content-sign {\n  display: none;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.4);\n  text-align: center;\n  font-size: 14px;\n  z-index: 2147483632;\n}\n.content-sign .center-block {\n  text-align: left;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 244px;\n  padding: 22px;\n  background-color: white;\n  box-shadow: 0px 6px 12px 0px rgba(0, 0, 0, 0.18);\n  border-radius: 4px;\n  transform: translate3d(-50%, -50%, 0);\n}\n.content-sign .center-block .close {\n  position: absolute;\n  right: 8px;\n  top: 2px;\n  font-size: 24px;\n  color: #979797;\n  transform: rotate(45deg);\n  cursor: pointer;\n}\n.content-sign .center-block p {\n  font-size: 14px;\n  line-height: 24px;\n  margin-top: 0;\n}\n.content-sign .center-block .popup-btn-primary {\n  text-align: center;\n  border: 1px solid #666;\n  border-radius: 4px;\n  line-height: 40px;\n  font-size: 15px;\n  margin-top: 10px;\n  cursor: pointer;\n  border-color: #5794ff;\n  background-color: #5794ff;\n  color: white;\n}\n/******************notification******************/\n#asNotifyBox {\n  border-radius: 3px;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);\n  border: solid 1px #fff;\n  background-image: -webkit-linear-gradient(top, #f9f9f9, #f5f5f5);\n  position: fixed;\n  top: 5px;\n  right: 5px;\n  z-index: 1000000;\n  padding: 10px;\n  width: 280px;\n  -webkit-animation: fadeIn 300ms ease;\n}\n#asNotifyBox img {\n  display: inline-block;\n  vertical-align: middle;\n  margin-right: 8px;\n}\n#as-notifyMessage {\n  font: normal 12px/14px arial, Helvetica;\n  white-space: normal;\n  word-break: break-all;\n  display: inline-block;\n  width: 230px;\n  vertical-align: middle;\n}\n#as-notifyClose {\n  position: absolute;\n  right: 3px;\n  top: 3px;\n  height: 12px;\n  width: 12px;\n  background-image: url("chrome-extension://__MSG_@@extension_id__/images/clear.png");\n  opacity: 0.3;\n  cursor: pointer;\n}\n#as-notifyClose:hover {\n  opacity: 0.5;\n}\n@-webkit-keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n/***********Admanage**********/\n#sa-admanage-box {\n  margin: 0px -28px 11px 0px;\n  padding: 2px 8px 6px 8px;\n  background-color: #fff7ed;\n}\n#sa-admanage-box ol {\n  margin-top: -14px;\n}\n#sa-admanage-box h2 span {\n  font-size: 10px;\n  text-align: left;\n  color: #767676;\n  font-weight: normal;\n}\n#sa-admanage-box h2 {\n  margin: 0px;\n  text-align: right;\n  line-height: 10px;\n}\n#sa-admanage-box li {\n  margin: 20px 8px 0 0;\n  max-width: 440px;\n}\n/***************** delay div *******************/\n#awe_delay_div {\n  box-sizing: content-box !important;\n  height: 90px !important;\n  width: 120px !important;\n  text-align: center !important;\n  background-color: rgba(0, 0, 0, 0.7) !important;\n  font-size: 72px !important;\n  font-weight: bold !important;\n  position: fixed !important;\n  right: 20px !important;\n  top: 20px;\n  z-index: 1000000 !important;\n  line-height: 100px !important;\n  color: white !important;\n  border-top-left-radius: 3px !important;\n  border-top-right-radius: 3px !important;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.15) !important;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3) !important;\n  font-family: Arial !important;\n}\n#awe_delay_div.countdown {\n  left: 0 !important;\n  right: 0 !important;\n  top: 0 !important;\n  bottom: 0 !important;\n  margin: auto !important;\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#awe_delay_div.countdown #awe_delay_cancel {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#awe_delay_cancel {\n  width: 120px !important;\n  height: 30px !important;\n  line-height: 30px !important;\n  font-size: 14px !important;\n  font-weight: normal !important;\n  position: absolute !important;\n  bottom: -31px !important;\n  background-color: rgba(0, 0, 0, 0.7) !important;\n  cursor: pointer !important;\n  border-bottom-left-radius: 3px !important;\n  border-bottom-right-radius: 3px !important;\n}\n#awe_delay_cancel:hover {\n  background-color: rgba(0, 0, 0, 0.8) !important;\n}\n#aws-record-div {\n  height: 1px !important;\n  width: 1px !important;\n  position: fixed !important;\n  left: 0 !important;\n  top: 0 !important;\n  background-color: rgba(0, 0, 0, 0.2) !important;\n  animation: fadeIn 1000ms infinite !important;\n}\n',o=chrome.runtime.getURL("");n=n.replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,o),(O=document.createElement("as-select-wrapper")).id="as_select_wrapper",/instagram.com/.test(window.location.href)&&(O.style.position="static");var i=O.attachShadow({mode:"open"}),a=document.createElement("style");a.innerHTML=n,i.appendChild(a),$(b('<div id="awesome_screenshot_wrapper"><div id="awesome_screenshot_top"></div><div id="awesome_screenshot_right"></div><div id="awesome_screenshot_bottom"></div><div id="awesome_screenshot_left"></div><div id="awesome_screenshot_center" class="drsElement drsMoveHandle"><div id="awesome_screenshot_size" style="min-width: 70px;"><span>0 X 0</span></div></div></div><div id="sign_view" class="content-sign"><div class="center-block"><div class="close" id="close">+</div><p class="content">Saving image to Cloud is selected in your extension menu and therefore sign-in is required.</p><div class="btn-area"><div class="popup-btn-primary" id="popup-sign-in-btn">Sign in now</div></div></div></div><div class="border-style top"></div><div class="border-style left"></div><div class="border-style right"></div><div class="border-style bottom"></div>\x3c!-- <div id="awesome_screenshot_action">\n  <a id="awesome_screenshot_cancel" class="awesome_action_btn cancel"\n    ></span>$i18n{capture_btn_cancel}</a\n  ><a id="awesome_screenshot_copy" class="awesome_action_btn copy"\n    >$i18n{capture_btn_copy}</a\n  ><a id="awesome_screenshot_capture" class="awesome_action_btn"\n    >$i18n{capture_btn_capture}</a\n  >\n</div> --\x3e<div id="screenshot_annotate" class="annotate_toolbar"><input id="file_input" type="file" class="file-input" accept=".jpg,.png,.jpeg"><div id="shapes_area" class="shapes_area"><div id="awesome_rect_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_rect_btn}"><div class="toolbtn rect"></div></div><div id="awesome_round_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_ellipse_btn}"><div class="toolbtn ellipse"></div></div><div id="awesome_arrow_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_arrow_btn}"><div class="toolbtn line_arrow"></div></div><div id="awesome_freeline_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_pen_btn}"><div class="toolbtn curve"></div></div><div id="awesome_blur_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_blur_btn}"><div class="toolbtn rect_blur"></div></div><div id="awesome_undo_btn" aria-label="$i18n{vtoolbar_undo_btn}" class="toolbar_item action_item tooltip tooltip-right disable"><div class="toolbtn undobtn"></div></div><div id="awesome_text_btn" class="toolbar_item tooltip tooltip-right" aria-label="$i18n{vtoolbar_text_btn}"><div class="toolbtn text"></div></div><div id="awesome_callout_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_callout_btn}"><div class="toolbtn callout"></div></div><div id="awesome_step_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_step_btn}"><div class="toolbtn list"></div></div><div id="awesome_image_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_emoji_btn}"><div class="toolbtn image"></div></div><div id="awesome_image_local_btn" class="toolbar_item tooltip tooltip-right premium" aria-label="$i18n{vtoolbar_image_btn}"><div class="toolbtn insertImage"></div></div><div class="sep_line"></div><div id="awesome_clear_btn" class="toolbar_item action_item tooltip tooltip-right disable" aria-label="$i18n{vtoolbar_clear_btn}"><div class="toolbtn clear-all icon-text"></div></div></div><div class="action_area"><a id="awesome_screenshot_copy" class="awesome_action_btn copy">$i18n{capture_btn_copy}</a> <a id="awesome_screenshot_cancel" class="awesome_action_btn cancel">$i18n{capture_btn_cancel}</a> <a id="awesome_screenshot_capture" class="awesome_action_btn tooltip tooltip-bottom save" aria-label="Ctrl+Shift+Enter">$i18n{capture_btn_capture}</a></div><div id="awesome_color_panel" class="color_panel left"><div class="trangle"></div><div class="colors"><div id="awesome_width_small" class="width_cell shape"><div class="dot small"></div><div class="font small">A</div></div><div id="awesome_width_middle" class="width_cell shape"><div class="dot middle"></div><div class="font middle">A</div></div><div id="awesome_width_big" class="width_cell shape"><div class="dot big"></div><div class="font big">A</div></div><div id="red_clr" class="color_cell red"></div><div id="blue_clr" class="color_cell blue"></div><div id="green_clr" class="color_cell green"></div><div id="yellow_clr" class="color_cell yellow"></div><div id="gray_clr" class="color_cell gray"></div><div id="white_clr" class="color_cell white"></div></div></div><div id="awesome_svgs_panel" class="svg-panel right"></div></div>')).appendTo(i),k=i.querySelector("#awesome_screenshot_wrapper"),A=i.querySelector("#screenshot_annotate"),F=i.querySelector("#sign_view"),ue(k),de(),(B=A.querySelector("#file_input")).addEventListener("change",Ce),window.addEventListener("resize",ae,!1),document.body.addEventListener("keydown",ie,!1),document.addEventListener("visibilitychange",oe),t||(k.addEventListener("mousedown",ne,!1),U&&k.addEventListener("touchstart",te,!1)),document.documentElement.appendChild(O),He(),q=K.drawStyle,t?(X=!0,me(A,"display","block"),pe(document.documentElement.scrollTop,document.documentElement.scrollLeft,document.documentElement.clientWidth,c(),!0),Te(),document.scrollingElement&&l.add("changeCssText",{element:document.scrollingElement,cssObj:{overflow:"hidden"}}),$(i).find(".border-style").show()):(X=!1,Q.haveInsertFrame=!1),F.addEventListener("click",Ee,!1),U&&F.addEventListener("touchend",(function(e){e.preventDefault(),Ee(e.changedTouches[0])}),!1)}}function te(e){e.preventDefault();var t=this;if(e.changedTouches.length>0){var n,o,i=function(e){e.preventDefault(),me(t,"background-color","rgba(0,0,0,0)"),o=parseInt(e.changedTouches[0].pageX)-a,n=parseInt(e.changedTouches[0].pageY)-r,l.children[0].innerHTML=parseInt(Math.abs(o))+" X "+parseInt(Math.abs(n)),ce(a,r,o,n),he(a,r,o,n),le(e.changedTouches[0])},a=parseInt(e.changedTouches[0].pageX),r=parseInt(e.changedTouches[0].pageY),l=t.querySelector("#awesome_screenshot_size");j=r,t.addEventListener("touchmove",i,!1),t.addEventListener("touchend",(function e(s){if(s.preventDefault(),parseInt(s.changedTouches[0].pageX)-a!=0&&parseInt(s.changedTouches[0].pageY)-r!=0||!t.querySelector("#awesome_screenshot_center").clientWidth)pe(a,r,o,n);else{me(t,"background-color","rgba(0,0,0,0)"),l.children[0].innerHTML=Math.abs(200)+" X "+Math.abs(200);var d=a-100;d<=0?d=0:d>window.innerWidth-200&&(d=window.innerWidth-200);var c=r-100;c<=0?c=0:c>window.innerHeight-200&&(c=window.innerHeight-200),ce(d,c,200,200),he(d,c,200,200),pe(d,c,200,200)}t.removeEventListener("touchstart",te,!1),t.removeEventListener("touchmove",i,!1),t.removeEventListener("touchend",e,!1),me(I,"display","block"),me(A,"display","block"),me(l,"display","block"),Pe()}),!1)}}function ne(e){if(0==e.button){var t,n,o=function(e){me(k,"background-color","rgba(0,0,0,0)"),n=e.pageX-i,t=e.pageY-a,r.children[0].innerHTML=Math.abs(n)+" X "+Math.abs(t),ce(i,a,n,t),he(i,a,n,t),le(e)},i=e.pageX,a=e.pageY,r=k.querySelector("#awesome_screenshot_size");j=a,k.addEventListener("mousemove",o,!1),k.addEventListener("mouseup",(function e(l){if(l.pageX-i!=0&&l.pageY-a!=0||0!=k.querySelector("#awesome_screenshot_center").clientWidth)pe(i,a,n,t);else{me(k,"background-color","rgba(0,0,0,0)"),r.children[0].innerHTML=Math.abs(200)+" X "+Math.abs(200);var s=i-100;s<=0?s=0:s>window.innerWidth-200&&(s=window.innerWidth-200);var d=a-100;d<=0?d=0:d>window.innerHeight-200&&(d=window.innerHeight-200),ce(s,d,200,200),he(s,d,200,200),pe(s,d,200,200)}k.removeEventListener("mousedown",ne,!1),k.removeEventListener("mousemove",o,!1),k.removeEventListener("mouseup",e,!1),me(I,"display","block"),me(A,"display","block"),me(r,"display","block"),Pe()}),!1)}}function oe(){"visible"===document.visibilityState&&0==G.personType&&e({action:"getPersonType"})}function ie(e){switch(e.keyCode){case 27:Re();break;case 46:case 8:se("deleteSelected");break;case 13:e.shiftKey&&e.ctrlKey&&_e()}}function ae(e){ue(k),He();var t=k.querySelector("#awesome_screenshot_center"),n=be(t,"width"),o=be(t,"height");if(n*o){var i=be(t,"left"),a=be(t,"top");ce(i,a,n,o),pe(i,a,n,o)}C.maxLeft=L,C.maxTop=W}function re(e){return e?e.scrollTop||(document.scrollingElement?document.scrollingElement.scrollTop:document.defaultView.pageYOffset):window.pageYOffset}function le(e){if(!Q.drawFrameInsert){var t=k.querySelector("#awesome_screenshot_center"),n=be(t,"top"),o=be(t,"height"),i=re(document.scrollingElement),a=e.clientY,r=e.clientX,l=window.innerHeight-a,s=window.innerWidth-r,d=!(e.pageY>j);j=e.pageY;var c=i+window.innerHeight-n-o,p=n-i;e.target==t&&o<window.innerHeight?(p<30&&d?document.scrollingElement.scrollTop-=Math.abs(p)+15:c<50&&!d&&(document.scrollingElement.scrollTop+=Math.abs(c)+16>48?Math.abs(c)+16:48),r<40&&(document.scrollingElement.scrollLeft-=25),s<40&&(document.scrollingElement.scrollLeft+=60-s)):(a<20&&d?document.scrollingElement.scrollsTop-=35:l<40&&!d&&(document.scrollingElement.scrollTop+=60-l),r<40&&(document.scrollingElement.scrollLeft-=25),s<40&&(document.scrollingElement.scrollLeft+=60-s))}}function se(e,t){Q.drawFrameInsert&&$("#screenshot_iframe")[0].contentWindow.postMessage({type:e,data:{type:e,value:t}},"*")}function de(){var e=!1;A&&(0==G.personType?($(A).find(".premium").addClass("isfree"),e=!0):$(A).find(".premium").removeClass("isfree"),Q.drawFrameInsert&&se("premiumPlan",e))}function ce(e,t,n,o){var i=window.innerWidth,a=window.innerHeight;document.scrollingElement&&(i=document.scrollingElement.scrollWidth,a=document.scrollingElement.scrollHeight);var r=n>=0?e+n:e,l=o>=0?t:t+o,s=n>=0?i-e-n:i-e,d=o>=0?t+o:t,c=n>=0?i-e:i-e-n,p=a-d,h=i-c,u=a-l,m=k.querySelector("#awesome_screenshot_top"),b=k.querySelector("#awesome_screenshot_right"),g=k.querySelector("#awesome_screenshot_bottom"),f=k.querySelector("#awesome_screenshot_left");me(m,"width",r+"px"),me(m,"height",l+"px"),me(b,"width",s+"px"),me(b,"height",d+"px"),me(b,"left",r+"px"),me(g,"width",c+"px"),me(g,"height",p+"px"),me(g,"top",d+"px"),me(g,"left",h+"px"),me(f,"width",h+"px"),me(f,"height",u+"px"),me(f,"top",l+"px")}function pe(e,t,n,o,i){var a=282;Math.abs(o)>c()||!G.autoOnline?($(A).find("#shapes_area").css("display","none"),a=90):$(A).find("#shapes_area").css("display","flex");var r=window.innerWidth-108,l=o>0?t+o:t,s=n>0?e+n:e,d=Math.abs(o),p=n>0?e:e+n;if(i){me(A,"right","48px");var h=re(document.scrollingElement)+(d-265)/2;me(A,"top",h+"px"),Y=!0}else{if(s>r){var u=window.innerWidth-s;if(p>124){var m=window.innerWidth-p+4;me(A,"right",m+"px")}else{var b=u+4;me(A,"right",(m=u-106)>0?m+40+"px":(b>46?b:46)+"px"),m<0&&(Y=!0)}}else me(A,"right",r-s+42+"px"),Y=!1;me(A,"top",((h=l-a-20)>0?h:0)+"px")}me(A,"display","block")}function he(e,t,n,o){var i=n>=0?e:e+n,a=o>=0?t:t+o,r=k.querySelector("#awesome_screenshot_center");me(r,"width",Math.abs(n)+"px"),me(r,"height",Math.abs(o)+"px"),me(r,"top",a+"px"),me(r,"left",i+"px")}function ue(e){me(e,"display","none");var t=window.innerWidth,n=window.innerHeight;document.scrollingElement?(t=document.scrollingElement.scrollWidth,n=document.scrollingElement.scrollHeight):document.documentElement&&(t=document.documentElement.scrollWidth,n=document.documentElement.scrollHeight),me(e,"width",t+"px"),me(e,"height",n+"px"),me(e,"display","block")}function me(e,t,n){e&&e.style.setProperty(t,n)}function be(e,t){return parseInt(e.style.getPropertyValue(t))}function ge(e){ye(),ve(),se(e)}function fe(t,n,o){q[N]||(q[N]={}),n?($(A).find(".color_cell").removeClass("selected"),q[N].color=o,$(t).addClass("selected")):("text"===N?($(A).find(".width_cell").removeClass("shape"),$(A).find(".width_cell").addClass("text"),$(A).find(".font").removeClass("selected"),$(A).find("."+o).addClass("selected")):($(A).find(".width_cell").removeClass("text"),$(A).find(".width_cell").addClass("shape"),$(A).find(".dot").removeClass("selected"),$(A).find("."+o).addClass("selected")),q[N].width=o),e({action:"recordStyle",shape:N,isColor:n,value:o}),Q.updateCurentStyle(N,q[N],n?2:3)}function we(e,t,n,o){var i=!0;o&&(i=!1),!X&&i&&ke(!1,!1),N=t,$(A).find(".toolbar_item").removeClass("selected"),i?$(e).addClass("selected"):$(A).find("."+t).parent().addClass("selected");var a=!0;"insertImage"!==t&&"image"!==t&&(!function(e,t){var n,o=!0;t&&(o=!1);q[e]||(q[e]={});n=o?q[e]:t;if(n.width){var i=n.width;"text"===e?($(A).find(".width_cell").removeClass("shape"),$(A).find(".width_cell").addClass("text"),$(A).find(".font").removeClass("selected"),$(A).find("."+i).addClass("selected")):($(A).find(".width_cell").removeClass("text"),$(A).find(".width_cell").addClass("shape"),$(A).find(".dot").removeClass("selected"),$(A).find("."+i).addClass("selected"))}else"text"===e?($(A).find(".width_cell").removeClass("shape"),$(A).find(".width_cell").addClass("text"),$(A).find(".font").removeClass("selected"),$(A).find(".middle").addClass("selected")):($(A).find(".width_cell").removeClass("text"),$(A).find(".width_cell").addClass("shape"),$(A).find(".dot").removeClass("selected"),$(A).find(".middle").addClass("selected"));n.color?($(A).find(".color_cell").removeClass("selected"),$(A).find("."+n.color).addClass("selected")):($(A).find(".color_cell").removeClass("selected"),$(A).find(".red").addClass("selected"))}(t,o),a=!1),i&&Q.updateCurentStyle(t,a?"":q[t],1),"rect_blur"===t?($(A).find("#awesome_color_panel").css("display","none"),ve()):Q.drawFrameInsert&&n&&xe()}function xe(){var e,t;if(C?(e=C.elmX,t=C.elmW):(e=0,t=window.innerWidth),N){var n=["rect","ellipse","line_arrow","curve","rect_blur","undo","text","callout","list"].indexOf(N);if(n>=0){var o=!1;(42<(i=window.innerWidth-e-t)&&i<232||e<124&&i<66)&&(o=!0),function(e,t,n){ve();var o=$(A).find("#awesome_color_panel"),i=$(A).find(".trangle")[0];e?(o.removeClass("left"),o.addClass("right")):(o.removeClass("right"),o.addClass("left"));n?($(o).find(".width_cell").addClass("hidden"),$(o).addClass("only_color")):($(o).removeClass("only_color"),$(o).find(".width_cell").removeClass("hidden"));$(i).css("top",t+"px"),o.css("display","block")}(n<5,12+n%6*31)}else if($(A).find("#awesome_color_panel").css("display","none"),"image"==N){var i;o=!1;(66<(i=window.innerWidth-e-t)&&i<232||e<124&&i<66)&&(o=!0),function(e){var t=A.querySelector("#awesome_svgs_panel");if(0==t.childElementCount){var n="",o=chrome.runtime.getURL("");V.forEach((function(e){n+="<div class='image-item' value = "+e+"> <img id = "+e+" src='"+(o+"images/svg/"+e+".svg")+"'/></div>"})),t.innerHTML=n}e?($(t).removeClass("right"),$(t).addClass("left")):($(t).removeClass("left"),$(t).addClass("right"));$(t).css("display","block")}(o)}}}function ve(){$(A).find("#awesome_svgs_panel").css("display","none"),A.querySelector("#awesome_image_btn").parentNode.classList.remove("selected")}function ye(){$(A).find("#awesome_color_panel").css("display","none")}function _e(){e({action:"checkUserStatus"})}function ke(t,n){e({action:"canCapture",isCopy:t,isUserAction:n})}function Ce(e){var t=e.target.files[0];if(t){var n=URL.createObjectURL(t);Q.updateCurentStyle("insertImage",{name:n})}}function Se(){F&&$(F).css("display","none")}function Ee(t){switch(t.target.id){case"popup-sign-in-btn":e({action:"openNewTab",url:"https://www.awesomescreenshot.com/signin?from=ext_pop_capture"}),Se();break;case"close":Se()}}function Te(){A.addEventListener("click",Me,!1),U&&A.addEventListener("touchend",(function(e){e.preventDefault(),Me(e.changedTouches[0])}),!1)}function Me(e){try{e.stopPropagation()}catch(e){}switch(e.target.id){case"awesome_rect_btn":we(e.target,"rect",!0);break;case"awesome_round_btn":we(e.target,"ellipse",!0);break;case"awesome_arrow_btn":we(e.target,"line_arrow",!0);break;case"awesome_freeline_btn":we(e.target,"curve",!0);break;case"awesome_blur_btn":we(e.target,"rect_blur",!1);break;case"awesome_text_btn":we(e.target,"text",!0);break;case"awesome_callout_btn":we(e.target,"callout",!0);break;case"awesome_step_btn":we(e.target,"list",!0);break;case"awesome_image_btn":we(e.target,"image",!0);break;case"awesome_image_local_btn":X||ke(!1,!1),0==G.personType?($(A).find("#awesome_color_panel").css("display","none"),ve(),Q.updateCurentStyle("insertImage",{})):$(B).click();break;case"awesome_clear_btn":ge("clear");break;case"awesome_undo_btn":ge("undo");break;case"awesome_width_small":fe(e.target,!1,"small");break;case"awesome_width_middle":fe(e.target,!1,"middle");break;case"awesome_width_big":fe(e.target,!1,"big");break;case"red_clr":fe(e.target,!0,"red");break;case"blue_clr":fe(e.target,!0,"blue");break;case"green_clr":fe(e.target,!0,"green");break;case"yellow_clr":fe(e.target,!0,"yellow");break;case"gray_clr":fe(e.target,!0,"gray");break;case"white_clr":fe(e.target,!0,"white");break;case"awesome_screenshot_capture":_e();break;case"awesome_screenshot_cancel":Re();break;case"awesome_screenshot_copy":ke(!0,!0);break;default:var t=e.target.id;V.indexOf(t)>=0&&(Q.updateCurentStyle("image",{name:t}),ve())}}function Pe(){var e=k.querySelector("#awesome_screenshot_center");C=new DragResize("dragresize",{maxLeft:L,maxTop:W});var t=k.querySelector("#awesome_screenshot_size");C.isElement=function(e){if(e.className&&e.className.indexOf("drsElement")>-1)return!0},C.isHandle=function(e){if(e.className&&e.className.indexOf("drsMoveHandle")>-1)return!0},C.ondragmove=function(e,n){var o=C.elmX,i=C.elmY,a=C.elmW,r=C.elmH;t.children[0].innerHTML=parseInt(Math.abs(a))+" X "+parseInt(Math.abs(r)),me(t,"top",i<30?"5px":"-30px"),pe(o,i,a,r),ce(o,i,a,r),he(o,i,a,r),le(n)},C.apply(k),C.select(e),Te()}function He(){W=window.innerHeight,L=window.innerWidth,document.scrollingElement&&(W=document.scrollingElement.scrollHeight,L=document.scrollingElement.scrollWidth)}function Re(){window.removeEventListener("resize",ae),document.body.removeEventListener("keydown",ie,!1),document.removeEventListener("visibilitychange",oe),k&&k.parentNode&&k.parentNode.removeChild(k);var e=document.querySelector("#as_select_wrapper");e&&e.parentNode.removeChild(e);var t=document.querySelector("#screenshot_iframe");t&&t.parentNode.removeChild(t),Q.updateFrameStatus(!1),$(window).unbind("scroll"),$("body").removeClass("unselectable"),r(),X=!1,C=null,N="",Q.drawFrameInsert=!1,G.resetStatus(),T.popAll(),T.popAllFixed()}function $e(e){e?Y&&me(A,"visibility","hidden"):me(A,"visibility","visible")}window.addEventListener("message",(function(t){if((!t.data||t.data.mark==G.iframeMark)&&t.data)switch(t.data.type){case"initIframe":D||($e(!1),xe(),D=!0,$("#screenshot_iframe")[0].contentWindow.postMessage({type:"init",dataUrl:G.temImage},"*"),Q.updateFrameStatus(!0),G.iframeStatus=!0,e({action:"getPersonType"}),document.documentElement==document.scrollingElement?l.add("changeCssText",{element:document.documentElement,cssObj:{overflow:"hidden"}}):l.add("addStyle",{id:"disable_scroll-capture",css:"html{overflow: hidden !important; height: 100% !important}"}));break;case"selected":t.data.data?function(e){var t;ve();var n={};switch(e.shape){case 1:t="curve";break;case 3:t="rect";break;case 4:t="ellipse";break;case 7:t="callout";break;case 8:t="list";break;case 23:case 20:case 2:t="line_arrow";break;case 5:t="rect_blur";break;case 80:t="text"}var o=!0;e.isInsert&&($(A).find("#awesome_color_panel").css("display","none"),o=!1),t&&(n.width=function(e,t){var n="middle";if("text"!==t&&"callout"!==t)switch(e){case 2:n="small";break;case 4:n="middle";break;case 8:n="big"}else switch(e){case 22:n="small";break;case 32:n="middle";break;case 48:n="big"}return n}(e.penWidth,t),n.color=function(e){var t="red";switch(e){case"rgba(255,0,0,1)":t="red";break;case"rgba(0,255,0,1)":t="green";break;case"rgba(72,135,232,1)":t="blue";break;case"rgba(241,194,49,1)":t="yellow";break;case"rgba(102,102,102,1)":t="gray";break;case"rgba(255,255,255,1)":t="white"}return t}(e.color),we("",t,o,n))}(t.data.data):D?D=!1:(ye(),ve());break;case"copy":ve(),t.data.data&&(u(t.data.data),Re(),r());break;case"undo":t.data.data?$(A).find("#awesome_undo_btn").removeClass("disable"):$(A).find("#awesome_undo_btn").addClass("disable");break;case"closeModel":$("#screenshot_iframe").css("z-index",2147483620);break;case"removeselect":Re(),r();break;case"clear":t.data.data?$(A).find("#awesome_clear_btn").addClass("disable"):$(A).find("#awesome_clear_btn").removeClass("disable")}}));var ze,We,Le=1,Ne=0,Ie=0,Ae=0,Fe=0,Be=!1,Oe=window.location.hostname,qe={},Xe=[],Ye=!1,De=0,je=!1,Ue=!1,Ke=!1,Ve=!1,Ze=!1,Je=0,Ge=!1,Qe=0,et={visible:{enable:"false",key:"V"},selected:{enable:"false",key:"S"},entire:{enable:"false",key:"E"}},tt=null;function nt(){return document.scrollingElement?document.scrollingElement.scrollHeight>window.innerHeight:!document.documentElement||document.documentElement.scrollHeight>window.innerHeight}function ot(){return window.self!==window.top}function it(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var o=e.offsetWidth;return n==o&&(o=t.clientWidth),document.body.removeChild(t),n-o}function at(){return"CSS1Compat"===document.compatMode?document.documentElement.clientHeight:document.body.clientHeight}function rt(e,t,n){var o=e;e||(o=window),o.scrollTo&&"function"==typeof o.scrollTo?o.scrollTo(n||0,t):(o.scrollTop=t,n&&(o.scrollLeft=n))}function lt(t){var n=!1;Ve=!1,Ze=!1,Je=0,Ge=!1,0,Qe=0,T.init(),T.initFixed(),rt(document.scrollingElement,0);var o=(ze=new M(document.body&&0===document.body.offsetHeight||!1,window.scrollX,window.scrollY)).getScrollPart();if(o.frame&&(n=!0),ze.parpareDeal(),Ne=ze.getScrollNode().scrollTop,Ie=ze.getScrollNode().scrollLeft,"elt"!==o.type&&document.body!==ze.scrollNode||T.handleScrollNode(o.elt||ze.scrollNode),rt(ze.scrollNode,0,0),rt(document.scrollingElement,0),ze.dimensions.fullHeight,ze.scrollPart&&T.dealBottomAbsoltesInner(!0,ze.contentClip),o.elt&&T.hideScrollbarsInner(o.elt),n&&!ot())return function(){Ue=!1,Ke=!1;var e=ze.getScrollPart().frame;e&&e.contentWindow.postMessage({type:"checkFrameStatus"},"*")}(),void setTimeout((function(){Ue?function(e){var t=e.getScrollPart(),n=t.frame;n?(Ke=!0,n.contentWindow.postMessage({type:"initCaptureFrame",parentPage:{top:t.top,left:t.left,right:t.width,bottom:t.bottom,parentHeight:window.innerHeight,parentWidth:window.innerWidth}},"*")):Ke=!1;return Ke}(ze)||e({action:"visible",menuType:"entire"}):e({action:"visible",menuType:"entire"})}),200);if(Be=!1,0,Ae=at(),Fe=document.documentElement.clientWidth,pt(),window.onresize=pt,ze.dimensions.fullHeight<=window.innerHeight)return qe.y=!1,void(ot()?dt({action:"visible",menuType:"entire"}):e({action:"visible",menuType:"entire"}));qe.y=!0,We||(We="entire "+Math.random()),function(e){if(e&&ze&&ot()){if(ze.contentClip.y+=e.top*window.devicePixelRatio,ze.contentClip.x+=e.left*window.devicePixelRatio,ze.contentClip.height-=1*window.devicePixelRatio,ze.topCapturePostion.x=0,ze.topCapturePostion.y=0,ze.bottomPostion||(ze.topCapturePostion.height=e.parentHeight*window.devicePixelRatio),e.left>0){var t=!1,n=e.left;ze.bgRegions.length>0&&ze.bgRegions.forEach((function(e){e&&e.fill.width>0&&e.fill.height>0&&0==e.fill.x&&(e.width+=n,t=!0)})),t||ze.bgRegions.push({fill:{x:0,y:e.top,width:n,height:ze.contentClip.height},sample:{x:0,y:e.top,width:n,height:ze.contentClip.height}})}var o=(ze.contentClip.x+ze.contentClip.width)/window.devicePixelRatio;if(o<e.parentWidth){n=e.parentWidth-o;var i=!1,a=ze.contentClip.height/window.devicePixelRatio;ze.bgRegions.length>0&&ze.bgRegions.forEach((function(e){e&&e.fill.width>0&&e.fill.height>0&&e.fill.x>0&&(e.width+=n,e.x=o,i=!0)})),i||ze.bgRegions.push({fill:{x:o,y:e.top,width:n,height:a},sample:{x:o,y:e.top,width:n,height:a}})}}}(t);var i={action:"scroll_next_done",userAction:"save",isFirstScroll:!0,contentClip:ze.contentClip,bottomClip:ze.bottomPostion,bgRegions:st(ze.bgRegions),topCapturePostion:ze.topCapturePostion,devicePixelRatio:window.devicePixelRatio,mark:We,windowHeight:window.innerHeight*window.devicePixelRatio};Qe=2,setTimeout((function(){T.updateFixed(ze.getScrollNode()?ze.getScrollNode():document.scrollingElement,!0,ze.dimensions.nonadjustedFullHeight,window.innerWidth),ot()?setTimeout((function(){dt(i)}),300):setTimeout((function(){e(i)}),50)}),50)}function st(e){var t=[];return e&&e.forEach((function(e){e.sample={x:e.sample.x*window.devicePixelRatio,y:e.sample.y*window.devicePixelRatio,width:e.sample.width*window.devicePixelRatio,height:e.sample.height*window.devicePixelRatio},t.push(e)})),t}function dt(e){window.parent.postMessage({type:"awsSendBg",message:e},"*")}function ct(){if(Xe){for(var e=0,t=Xe.length;e<t;e++){var n=Xe[e];n.element.style.cssText=n.cssText}Xe=[]}}function pt(){qe.x=!1,ze.scrollNode?qe.y=ze.scrollNode.scrollHeight+ze.scrollNode.offsetTop>window.innerHeight:qe.y=document.scrollingElement.scrollHeight>window.innerHeight}function ht(e){var t=ze.getScrollPart().frame;t&&t.contentWindow.postMessage(e,"*")}function ut(e){if(!e)return window.pageYOffset;var t=e.scrollTop,n=document.scrollingElement?document.scrollingElement.scrollTop:document.defaultView.pageYOffset;return n>t?n:t}function mt(){if(Ke)ht({type:"scrollNext"});else{T.popAllFixed(),T.popAllAbs();var t=ze?ze.scrollNode:document.scrollingElement,n=Math.ceil(ut(t)),o=Math.ceil(t.scrollLeft);t.scrollHeight;if(Be){var i=G.getCenterPosition(),a=i.left,r=i.top,l=i.width,s=i.height;if(l<=Fe&&s>Ae){if(r+s==n+Ae||r+s-1==n+Ae||r+s<n+Ae){var d={action:"entire_capture_done",counter:Le,ratio:{x:0,y:s%Ae/Ae},scrollBar:{x:!1,y:!0,realX:window.innerHeight>document.documentElement.clientHeight},data:{x:a*window.devicePixelRatio,y:r*window.devicePixelRatio},centerW:l*window.devicePixelRatio,centerH:s*window.devicePixelRatio};return void(ot()?dt(d):e(d))}r+s<n+2*Ae?rt(document.scrollingElement,r+s-Ae):r+s>n+2*Ae&&rt(document.scrollingElement,n+Ae)}if(l>Fe&&s<=Ae){if(a+l==o+Fe){d={action:"entire_capture_done",counter:Le,ratio:{x:l%Fe/Fe,y:0},scrollBar:{x:!0,y:!1,realY:window.innerWidth>document.documentElement.clientWidth},centerW:l*window.devicePixelRatio,centerH:s*window.devicePixelRatio};return void(ot()?dt(d):e(d))}a+l<o+2*Fe?document.scrollingElement.scrollLeft=a+l-Fe:a+l>o+2*Fe&&(document.scrollingElement.scrollLeft=o+Fe)}if(l>Fe&&s>Ae){if(r+s==n+Ae){if(a+l==o+Fe){d={action:"entire_capture_done",counter:Le,ratio:{x:l%Fe/Fe,y:s%Ae/Ae},scrollBar:{x:!0,y:!0},centerW:l*window.devicePixelRatio,centerH:s*window.devicePixelRatio};return void(ot()?dt(d):e(d))}return a+l<o+2*Fe?document.scrollingElement.scrollLeft=a+l-Fe:a+l>o+2*Fe&&(document.scrollingElement.scrollLeft=o+Fe),Le++,document.scrollingElement.scrollTop=r,void setTimeout(e,300,{action:"scroll_next_done"})}r+s<n+2*Ae?document.scrollingElement.scrollTop=r+s-Ae:r+s>n+2*Ae&&(document.scrollingElement.scrollTop=n+Ae)}}else{Ae=ze?ze.scrollClientHeight:Ae;var c=Math.round(ut(t)/(t.scrollHeight+t.offsetTop-Ae)*100)+"%";if(ot()?dt({action:"entireCaptureProgress",percentage:c,scrollNum:De}):e({action:"entireCaptureProgress",percentage:c,scrollNum:De}),t!==document.body?rt(t,n+Ae):(rt(t,n+Ae),rt(window,n+Ae)),De++,Math.ceil(ut(t))==n||je||Ge&&Math.ceil(ut(t))-n<Ae||n<Ae&&n>0&&Math.ceil(ut(t))-n<2){o=t.scrollLeft;t.scrollLeft=o+Fe,!qe.x||t.scrollLeft;var p={};return p.y=(n+Math.abs(Je))%Ae/Ae,0==p.y&&(p.y=1),p.x=o%Fe/Fe,rt(t,Ne,Ie),T.popAll(),ot()?dt({action:"entire_capture_done",counter:je?Le-1:Le,ratio:je?{x:1,y:1}:p,scrollBar:qe}):e({action:"entire_capture_done",counter:je?Le-1:Le,ratio:je?{x:1,y:1}:p,scrollBar:qe}),De=0,void(je=!1)}}setTimeout((function(){Qe>0&&(Qe--,t!==document.body?rt(t,n+Ae):(rt(t,n+Ae),rt(window,n+Ae)));var o=ze?ze.getDimensions():null,i=!1;t.scrollHeight-Math.ceil(ut(t))>window.innerHeight&&ze&&ze.scrollPart&&T.dealBottomAbsoltesInner(!1,ze.contentClip),t.scrollHeight-Math.ceil(ut(t))<=window.innerHeight&&(i=!0),T.updateFixed(t,!1,ze?ze.dimensions.nonadjustedFullHeight:t.scrollHeight,window.innerWidth,i),setTimeout((function(){t.scrollHeight;var a=0,r=ze?ze.getDimensions():null;if(r&&o&&r.nonadjustedFullHeight<o.nonadjustedFullHeight&&(o=r),o&&(a=Math.ceil(o.nonadjustedFullHeight-ze.dimensions.nonadjustedFullHeight)),(!Ve&&a>0||function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}()&&/instagram.com/.test(window.location.host))&&(Ze=!0),!Ze&&(a<0||Ve&&a>0&&a+Je<0)){ze.dimensions=o;var l=function(e){if(/7mkr.com/.test(window.location.host))return-1;if(e+140<0)return-1;return e}(a);Ve=!0,Je+=l,rt(t,n+Ae+l),ot()?dt({action:"scroll_next_done"}):(T.updateFixed(t,!1,ze?ze.dimensions.nonadjustedFullHeight:t.scrollHeight,window.innerWidth,i),setTimeout(e,100,{action:"scroll_next_done"}))}else ot()?dt({action:"scroll_next_done"}):e({action:"scroll_next_done"});Ge=Math.ceil(ut(t))-n<.7*Ae}),50)}),100)}}function bt(t){switch(String.fromCharCode(t.which)){case et.visible.key:1==et.visible.enable&&t.shiftKey&&t.ctrlKey&&e({action:"visible",actionFrom:"shortCut"});break;case et.selected.key:1==et.selected.enable&&t.shiftKey&&t.ctrlKey&&e({action:"selected",actionFrom:"shortCut"});break;case et.entire.key:1==et.entire.enable&&t.shiftKey&&t.ctrlKey&&e({action:"entire",actionFrom:"shortCut"})}}ot()||(e({action:"getRecordStyle"}),e({action:"canScroll",canSroll:nt()})),window.addEventListener("beforeunload",(function(t){ot()||e({action:"pageReload"})})),ot()&&document.body.addEventListener("keydown",(function(e){var t={which:e.which,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey};window.parent.postMessage({type:"shortCuts",message:t},"*")}),!1),chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"tabCanScroll":e({action:"canScroll",canSroll:nt()});break;case"update_shortcuts":!function(e){var t=document.body;if(t.removeEventListener("keydown",bt,!1),t.addEventListener("keydown",bt,!1),e.msObj){var n=e.msObj;for(var o in n=JSON.parse(n))et[o].enable=n[o].enable,et[o].key=n[o].key}}(t);break;case"init_entire_capture":G.updateAutoOnline(t.autoOnline),lt();break;case"init_selected_capture":G.updateAutoOnline(t.autoOnline),function(){Be=!0,Le=1;var e=document.getElementById("searchbar");if(null!==e&&e.classList.contains("searchbar")){e.style.display="none",document.body.id=""}l.add("addStyle",{id:"aws-entire-capture",css:"html::-webkit-scrollbar,body::-webkit-scrollbar, body::-webkit-scrollbar:horizontal, body::-webkit-scrollbar:vertical{width: 0 !important; height: 0 !important}"}),Ae=at(),Fe=window.document.documentElement.clientWidth,document.scrollingElement?(document.scrollingElement.scrollHeight,document.scrollingElement.scrollWidth):(window.innerHeight,window.innerWidth),ee(!1)}();break;case"scroll_next":mt();break;case"destroy_selected":ct(),r(),Re(),Ye=!1,0;break;case"restorebar":if(!G.getIframeSatus()){a(Oe),ct(),r(),T.popAll(),T.popAllFixed();var i=document.getElementById("searchbar");null!=i&&(i.style.display="block",document.body.id="searchbarshow"),Ye=!1,0}Ke&&(ht({type:"restorebar"}),Ke=!1,Ue=!1);break;case"stop-entire-capture":je=!0,Ke&&ht({type:"stopEntireCapture"});break;case"delay-capture":null!==tt&&(clearInterval(tt),tt=null,$("#awe_delay_div").remove());var s=$('<div id="awe_delay_div"><span></span><div id="awe_delay_cancel">Cancel</div></div>').appendTo("body").find("span").text(t.sec).end();s.find("#awe_delay_cancel").on("click",(function(){clearInterval(tt),tt=null,s.remove()})),$.Draggable(s[0],{});var d=t.sec?t.sec-1:2;tt=setInterval((function(){if(d<=0)return clearInterval(tt),tt=null,s.remove(),void setTimeout((function(){e({action:"visible"})}),100);$("#awe_delay_div").find("span").text(d),d--}),1e3);break;case"copytoclipboard":!function(e){if(e){var t=document.createElement("img"),n=document.createElement("canvas"),o=n.getContext("2d");t.onload=function(){n.width=t.width,n.height=t.height,o.drawImage(t,0,0),n.toBlob((function(e){u(e)}))},t.src=e}}(t.obj);break;case"persionType":G.updateType(t.persionType);break;case"userStatus":G.updateStatus(t.userStatus);break;case"canCapture":G.captureSelectAction(t.isCopy,t.isUserAction);break;case"recordStyle":K.updateStyle(t.recordStyle);break;case"dataURL":var c=t.cw,p=t.ch,h=t.ct,b=t.cl,g=(t.userAction,t.incognito);if(G.getIframeSatus()||G.getSetupStatus()&&0==c)return;if(m())return;var f=h/window.devicePixelRatio,w=b/window.devicePixelRatio,x=c/window.devicePixelRatio,v=p/window.devicePixelRatio,y=document.createElement("canvas");if(!y.style)return void alert("Extension cannot run on this page because it contains XML files.");var _,k=y.getContext("2d"),C=document.createElement("img");if(null!=t.dataURL&&0!=c)C.onload=function(){_=this.width/window.innerWidth,y.width=x*_,y.height=v*_,k.drawImage(C,w*_,f*_,x*_,v*_,0,0,x*_,v*_);var e=y.toDataURL();G.holdTemImage(e)},C.src=t.dataURL;else{G.updateAutoOnline(t.autoOnline);var S=!1;document.scrollingElement.scrollHeight>window.innerHeight&&(S=!0);var E=window.innerWidth-(S?it():0),M=window.innerHeight;f=0,w=0,x=window.innerWidth-(Ye?it():0),v=window.innerHeight,C.onload=function(){_=this.width/window.innerWidth,E*=_,M*=_,y.width=E,y.height=M,k.drawImage(C,0,0,E,M,0,0,E,M);var e=y.toDataURL();G.holdTemImage(e)},C.src=t.dataURL,ee(!0)}var P=parseInt(Date.now())+"";G.updateIframeMask(P);var H=document.createAttribute("id"),R=document.createElement("iframe");H.nodeValue="screenshot_iframe",R.setAttributeNode(H),R.src=chrome.extension.getURL("")+"annotate-react.html?ct="+f+"&cl="+w+"&cw="+x+"&ch="+v+"&incognito="+g+"&mark="+P+"&actionType="+t.actionType+"&format="+t.format,document.documentElement.appendChild(R),$(R).css("cssText","top:0px;left:0px;border:none;position:fixed;z-index:2147483620;width:"+window.innerWidth+"px!important;height:"+window.innerHeight+"px!important;background-color:transparent !important;color-scheme:auto"),Ye=!1,0}})),window.addEventListener("message",(function(t){if(t.data){var n=t.data.type;if("initCaptureFrame"==n)lt(t.data.parentPage);else if("scrollNext"===n)mt();else if("stopEntireCapture"===n)je=!0;else if("restorebar"===n)!function(){a(Oe),ct(),r(),T.popAll(),T.popAllFixed(),ze=null,Ke=!1,Ke=!1;var e=document.getElementById("searchbar");null!=e&&(e.style.display="block",document.body.id="searchbarshow");Ye=!1,0}();else if("awsSendBg"===n){(o=t.data.message)&&e(o)}else if("checkFrameStatus"===n)window.parent.postMessage({type:"frameReponse"},"*");else if("frameReponse"===n)Ue=!0,Ke=!0;else if("shortCuts"===n){var o;(o=t.data.message)&&bt(o)}}}));const gt=".frame-container {\n  position: fixed !important;\n  bottom: 0;\n  right: 0;\n  width: 320px;\n  height: 180px;\n  z-index: 9999999;\n}\n.frame-container:hover .action {\n  display: block;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n}\n.frame-container .action {\n  display: none;\n  position: absolute;\n  height: 40px;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n.frame-container .action-item {\n  height: 30px;\n  width: 30px;\n  float: right;\n  color: white;\n  font-size: 30px;\n  cursor: pointer;\n}\n.frame-container .action-item.close {\n  transform: rotate(45deg);\n  position: relative;\n  top: 5px;\n  right: 7px;\n  text-align: center;\n  line-height: 30px;\n}\n.frame-container iframe {\n  border: none;\n  outline: none;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n}\n";const ft='<div class="frame-container"><div class="action"><div class="action-item close">+</div></div></div>';var wt=null;chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"setup-camera":!function(){if(document.querySelector("#aws-container"))return;if((wt=document.createElement("div")).id="aws-container",!wt.style)return;var t=wt.attachShadow({mode:"open"}),n=document.createElement("style");n.innerHTML=gt,t.appendChild(n);var o=document.createElement("style");o.innerHTML=".ui-resizable { position: relative; } .ui-resizable-handle { position: absolute; font-size: 0.1px; display: block; -ms-touch-action: none; touch-action: none; } .ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; } .ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0; } .ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0; } .ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0; height: 100%; } .ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0; height: 100%; } .ui-resizable-se { cursor: nwse-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; } .ui-resizable-sw { cursor: nesw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; } .ui-resizable-nw { cursor: nwse-resize; width: 9px; height: 9px; left: -5px; top: -5px; } .ui-resizable-ne { cursor: nesw-resize; width: 9px; height: 9px; right: -5px; top: -5px; }",t.appendChild(o);var i=$(ft),a=i.find(".action");a.find(".close").on("click",(function(){document.documentElement.removeChild(wt),e({action:"close-camera",manually:!0})})),a.appendTo(i);var r=document.createElement("iframe");r.src=chrome.runtime.getURL("/camera.html"),$.Draggable(i[0],{container:document}),i.resizable({handles:"ne,se,sw,nw",aspectRatio:!0}),i.append(r),i.appendTo(t),document.documentElement.appendChild(wt)}();break;case"stop-camera":wt.parentNode&&document.documentElement.removeChild(wt);break;case"insertRecordDiv":$("<div id='aws-record-div'></div>").appendTo(document.body);break;case"removeRecordDiv":$("#aws-record-div").remove()}}));const xt=".countdown-wrapper {\n  font-family: Arial;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 2147483647;\n}\n.countdown-wrapper .center {\n  width: 300px;\n  height: 220px;\n  font-size: 1px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 232px;\n  margin: auto;\n  color: white;\n  text-align: center;\n}\n.countdown-wrapper .sec {\n  line-height: 120px;\n  font-size: 100px;\n}\n.countdown-wrapper .tip {\n  font-size: 30px;\n  margin-bottom: 10px;\n}\n.countdown-wrapper .cancel-btn {\n  font-size: 12px;\n  padding: 4px 10px;\n  border: 1px solid white;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 30px;\n  display: inline-block;\n  line-height: 14px;\n  opacity: 0.6;\n}\n.countdown-wrapper .cancel-btn:hover {\n  opacity: 1;\n}\n";const vt='<div class="countdown-wrapper"><div class="center"><div class="tip">Recording will start in</div><div class="sec"></div></div></div>';var yt=null;function _t(){$("#aws-countdown").remove()}chrome.runtime.onMessage.addListener((function(e,t,n){switch(e.action){case"startCountDown":!function(e){if(document.querySelector("#aws-countdown"))return;var t=document.createElement("div");if(t.id="aws-countdown",!t.style)return;var n=t.attachShadow({mode:"open"}),o=document.createElement("style");o.innerHTML=xt,n.appendChild(o);var i=$(vt),a=i.find(".sec"),r=e;a.text(r),r--,yt=setInterval((function(){if(0===r)return clearInterval(yt),yt=null,void _t();a.text(r),r--}),1e3),i.appendTo(n),document.documentElement.appendChild(t)}(e.countdown);break;case"stop-countdown":clearInterval(yt),yt=null,_t()}}));n(807);const kt='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n.container {\n  font-size: 12px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  z-index: 2147483641;\n}\n.container * {\n  box-sizing: border-box;\n}\n.toolbar {\n  position: fixed;\n  left: 12px;\n  bottom: 12px;\n  display: flex;\n  background: #32343e;\n  color: white;\n  z-index: 2147483643;\n  pointer-events: all;\n  border-radius: 4px;\n  opacity: 0.8;\n}\n.toolbar .toolbar-action-btn,\n.toolbar .collapse-btn,\n.toolbar .expand-btn,\n.toolbar .toolbar-item,\n.toolbar .sub-menu-item {\n  position: relative;\n}\n.toolbar .toolbar-action-btn:hover::after,\n.toolbar .collapse-btn:hover::after,\n.toolbar .expand-btn:hover::after,\n.toolbar .toolbar-item:hover::after,\n.toolbar .sub-menu-item:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn[data-tooltip-placement="left"]::after,\n.toolbar .collapse-btn[data-tooltip-placement="left"]::after,\n.toolbar .expand-btn[data-tooltip-placement="left"]::after,\n.toolbar .toolbar-item[data-tooltip-placement="left"]::after,\n.toolbar .sub-menu-item[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.toolbar .toolbar-action-btn::after,\n.toolbar .collapse-btn::after,\n.toolbar .expand-btn::after,\n.toolbar .toolbar-item::after,\n.toolbar .sub-menu-item::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar.collapsed .bar-area {\n  width: 0;\n  visibility: hidden;\n}\n.toolbar.collapsed .collapse-btn {\n  display: none;\n}\n.toolbar.collapsed .expand-btn {\n  display: block;\n}\n.toolbar .bar-area {\n  display: flex;\n}\n.toolbar:hover {\n  opacity: 1;\n}\n.toolbar.sub-menu {\n  border-radius: 0px 4px 4px 4px;\n}\n.toolbar .sub-menu {\n  height: 40px;\n  min-width: 158px;\n  border-radius: 4px 4px 0 0;\n  background-color: #202126;\n  position: absolute;\n  justify-content: left;\n  left: 0;\n  top: -100%;\n  display: none;\n  padding: 0 14px;\n}\n.toolbar .sub-menu .color-picker {\n  display: flex;\n  width: 60px;\n  margin: 12px 0 0 8px;\n  justify-content: space-between;\n}\n.toolbar .sub-menu .color-picker .color-item {\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.toolbar .sub-menu .color-picker .color-item.active {\n  border: 2px solid white;\n}\n.toolbar .sub-menu .color-picker .color-item.blue {\n  background-color: #5794ff;\n}\n.toolbar .sub-menu .color-picker .color-item.red {\n  background-color: #ff0000;\n}\n.toolbar .sub-menu .color-picker .color-item.green {\n  background-color: #47d892;\n}\n.toolbar .sub-menu .sub-menu-item {\n  height: 28px;\n  width: 28px;\n  border-radius: 2px;\n  margin: 6px 6px 0 0;\n  cursor: pointer;\n}\n.toolbar .sub-menu .sub-menu-item:hover {\n  background-color: #32343e;\n}\n.toolbar .sub-menu .sub-menu-item:last-child {\n  margin-right: 0px;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-default b {\n  background-position: -126px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-background b {\n  background-position: -144px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-click b {\n  background-position: -162px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-focus b {\n  background-position: -180px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-freeline b {\n  background-position: -198px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-rect b {\n  background-position: -216px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-arrow b {\n  background-position: -234px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-single b {\n  background-position: -252px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-all b {\n  background-position: -270px 0;\n}\n.toolbar .sub-menu .sub-menu-item b {\n  height: 18px;\n  width: 18px;\n  margin: 5px 0 0 5px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .sub-menu .sub-menu-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .sub-menu .sub-menu-item.active {\n  background-color: black;\n}\n.toolbar .sub-menu .sub-menu-item.active:hover {\n  background-color: black;\n}\n.toolbar .sep {\n  width: 1px;\n  height: 24px;\n  background: #c0c4d0;\n  margin: 8px 8px;\n}\n.toolbar .more-action {\n  margin-right: 8px;\n  display: none;\n}\n.toolbar .toolbar-action-btn {\n  height: 40px;\n  width: 40px;\n  cursor: pointer;\n  position: relative;\n}\n.toolbar .toolbar-action-btn b {\n  height: 18px;\n  width: 18px;\n  margin: 11px 0 0 11px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .toolbar-action-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .toolbar-action-btn:hover {\n  background-color: #272934;\n}\n.toolbar .toolbar-action-btn:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn.pause {\n  margin-right: 8px;\n}\n.toolbar .toolbar-action-btn.pause b {\n  background-position: -54px 0;\n}\n.toolbar .toolbar-action-btn.resume b {\n  background-position: -72px 0;\n}\n.toolbar .toolbar-action-btn.discard b {\n  background-position: -90px 0;\n}\n.toolbar .toolbar-action-btn.stop b {\n  background-position: -108px 0;\n}\n.annotation-tools {\n  display: flex;\n}\n.annotation-tools.disabled {\n  position: relative;\n}\n.annotation-tools.disabled:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.annotation-tools.disabled[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.annotation-tools.disabled::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar-item {\n  height: 40px;\n  width: 40px;\n  cursor: pointer;\n}\n.toolbar-item.disabled {\n  pointer-events: none;\n}\n.toolbar-item.disabled b {\n  opacity: 0.6;\n}\n.toolbar-item:nth-child(1) {\n  margin-left: 8px;\n}\n.toolbar-item b {\n  height: 18px;\n  width: 18px;\n  margin: 11px 0 0 11px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar-item.draw b {\n  background-position: -18px 0;\n}\n.toolbar-item.remove b {\n  background-position: -36px 0;\n}\n.toolbar-item.active {\n  background-color: #202126;\n}\n.toolbar-item.active:after {\n  display: none;\n}\n.toolbar-item.active:hover {\n  background-color: #202126;\n}\n.toolbar-item:hover {\n  background-color: #272934;\n}\n.collapse-btn {\n  width: 18px;\n  background-color: #212328;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n}\n.collapse-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  margin-left: 4px;\n  margin-top: 15px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .collapse-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.expand-btn {\n  display: none;\n  background-color: #212328;\n  border-radius: 0 4px 4px 0;\n  cursor: pointer;\n  width: 36px;\n  border-radius: 4px;\n}\n.expand-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  transform: rotate(180deg);\n  margin-left: 13px;\n  margin-top: 15px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .expand-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.mouse-block {\n  height: 48px;\n  width: 48px;\n  border-radius: 50%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: transparent;\n}\n.mouse-block.bg {\n  background: rgba(237, 241, 6, 0.5);\n}\n.mouse-block .inner-block {\n  height: 100%;\n  width: 100%;\n  border: 2px solid red;\n  transform: scale(0);\n  transition: transform 350ms ease;\n  border-radius: 50%;\n  position: relative;\n  top: -2px;\n  left: -2px;\n  pointer-events: none;\n}\n.mouse-block.mouse-down .inner-block {\n  transform: scale(1);\n  transition: none;\n}\n#draw-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483642;\n}\n#draw-canvas.freeline {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_pen_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_pen_ic@2x.png") 2x) 3 22, auto;\n}\n#draw-canvas.rect {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_box_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_box_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.arrow {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic@2x.png") 2x) 11 11, auto;\n}\n#draw-canvas.do-remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic@2x.png") 2x) 11 11, auto;\n}\n#layer-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483641;\n}\n';const Ct='<div class="container"><div class="toolbar"><div class="bar-area"><div class="annotation-tools" aria-label="" data-tooltip-placement="left"><div class="toolbar-item mouse active" data-mode="mouse" aria-label="$i18n{vtoolbar_mouse_effect_btn}" data-tooltip-placement="left"><b></b></div><div class="toolbar-item draw" data-mode="draw" aria-label="$i18n{vtoolbar_annotation_btn}"><b></b></div><div class="toolbar-item remove" data-mode="remove" aria-label="$i18n{vtoolbar_remove_btn}"><b></b></div></div><div class="sep"></div><div class="toolbar-action-btn pause" data-action="pause" aria-label="$i18n{vtoolbar_pause_btn}"><b></b></div><div class="more-action"><div class="toolbar-action-btn resume" data-action="resume" aria-label="$i18n{vtoolbar_resume_btn}"><b></b></div><div class="toolbar-action-btn discard" data-action="discard" aria-label="$i18n{vtoolbar_discard_btn}"><b></b></div><div class="toolbar-action-btn stop" data-action="stop" aria-label="$i18n{vtoolbar_stop_btn}"><b></b></div></div></div><div class="sub-menu" data-menu="mouse"><div class="sub-menu-item mouse-default active" data-type="default" aria-label="$i18n{vtoolbar_mouse_default_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item mouse-background" data-type="background" aria-label="$i18n{vtoolbar_highlight_mouse_btn}"><b></b></div><div class="sub-menu-item mouse-click" data-type="click" aria-label="$i18n{vtoolbar_highlight_click_btn}"><b></b></div><div class="sub-menu-item mouse-focus" data-type="focus" aria-label="$i18n{vtoolbar_spotlight_btn}"><b></b></div></div><div class="sub-menu" data-menu="draw"><div class="sub-menu-item draw-freeline active" data-type="freeline" aria-label="$i18n{vtoolbar_freeline_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item draw-rect" data-type="rect" aria-label="$i18n{vtoolbar_rect_btn}"><b></b></div><div class="sub-menu-item draw-arrow" data-type="arrow" aria-label="$i18n{vtoolbar_arrow_btn}"><b></b></div><div class="color-picker"><div class="color-item red active" data-color="red"></div><div class="color-item blue" data-color="blue"></div><div class="color-item green" data-color="green"></div></div></div><div class="sub-menu" data-menu="remove"><div class="sub-menu-item remove-single active" data-type="remove-single" aria-label="$i18n{vtoolbar_remove_single_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item remove-all" data-type="remove-all" data-tooltip-placement="left" aria-label="$i18n{vtoolbar_remove_all_btn}"><b></b></div></div><div class="collapse-btn" aria-label="$i18n{vtoolbar_collapse_btn}"><b></b></div><div class="expand-btn" aria-label="$i18n{vtoolbar_expand_btn}"><b></b></div></div><div class="mouse-block"><div class="inner-block"></div></div><canvas id="draw-canvas"></canvas><canvas id="layer-canvas"></canvas></div>';chrome.runtime.onMessage.addListener((function(t,n,o){switch(t.action){case"setup-toolbar":!function(t){if(document.querySelector("#aws-record-toolbar"))return;if((Et=document.createElement("aws-record-toolbar")).id="aws-record-toolbar",!Et.style)return;var n=Et.attachShadow({mode:"open"}),o=document.createElement("style");o.innerHTML=kt.replace(/@extension_path\//g,chrome.runtime.getURL("")),n.appendChild(o),(Tt=$(b(Ct))).appendTo(n);var i=null;(Mt=Tt.find(".toolbar")).find(".toolbar-item").on("mouseenter",(function(){i&&clearTimeout(i);var e=$(this).attr("data-mode");e===Pt&&(Mt.find(".sub-menu").hide(),Mt.find(".sub-menu[data-menu="+e+"]").css("display","flex"),Mt.addClass("sub-menu"))})).on("click",(function(){!function(t,n){Mt.find(".toolbar-item").removeClass("active"),Mt.find(".toolbar-item[data-mode="+t+"]").addClass("active"),Mt.find(".sub-menu").hide(),n||(Mt.find(".sub-menu[data-menu="+t+"]").css("display","flex"),Mt.addClass("sub-menu"));if(Pt=t,Nt.removeClass("bg"),Tt.css("background","transparent"),"draw"===t||"remove"===t){Rt||function(t,n,o){var i=!1,a=!1,r=!1,l=!1,s=t.getContext("2d"),d=n.getContext("2d"),c=o.getContext("2d");Gt(t,s),Gt(n,d),Gt(o,c),t.addEventListener("mousedown",(function(e){if(e.preventDefault(),1===e.which){if(zt)return r=!0,Lt={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},void Wt.editStart();if($t)"remove"===Pt?(tn($t),Qt(n),en(o),s.clearRect(0,0,t.width,t.height)):(a=!0,Wt&&(Wt.selected=!1,s.clearRect(0,0,t.width,t.height)),$t.selected=!0,Wt=$t,$t.drawSelect(s),Lt={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},Wt.editStart(),Qt(n));else{if(Wt&&(Wt.selected=!1,Wt=null,Qt(n),en(o),s.clearRect(0,0,t.width,t.height)),"remove"===Pt)return void(l=!0);i=!0,"freeline"===At?qt=new an(s,10,Xt):"rect"===At?(qt=new rn(s,12,Xt)).points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)}):"arrow"===At?(qt=new ln(s,8,Xt)).points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)}):qt=new sn(s,16),this.color="#f00"}}}),0),t.addEventListener("mouseleave",(function(e){i&&(i=!1,qt.points[1]&&(("freeline"===qt.type||Math.abs(qt.points[1].x-qt.points[0].x)>100||Math.abs(qt.points[1].y-qt.points[0].y)>100)&&It.push(qt),qt=null),Qt(n),en(o),s.clearRect(0,0,t.width,t.height))})),t.addEventListener("mouseup",(function(d){i&&(i=!1,qt.points[1]&&(("freeline"===qt.type||Math.abs(qt.points[1].x-qt.points[0].x)>100||Math.abs(qt.points[1].y-qt.points[0].y)>100)&&It.push(qt),qt=null),Qt(n),en(o),s.clearRect(0,0,t.width,t.height),e({action:"draw-annotation"})),a&&(a=!1,en(o)),r&&(r=!1,en(o)),l&&(l=!1),Yt=null}),0),t.addEventListener("mousemove",(function(e){if(e.preventDefault(),a&&null!==$t){var d={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)};return Wt.points.forEach((function(e,t){e.x=Wt.pre_points[t].x+(d.x-Lt.x),e.y=Wt.pre_points[t].y+(d.y-Lt.y)})),s.clearRect(0,0,t.width,t.height),Wt.calcRegionPoints&&Wt.calcRegionPoints(),void Wt.drawSelect(s)}if(r&&null!==zt&&(Wt.resize({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},zt.index),s.clearRect(0,0,t.width,t.height),Wt.drawSelect(s)),i){if("rect"!==At&&"arrow"!==At){var p=qt.points,h=qt.points.length;0!==h&&p[h-1].x===Math.floor(e.offsetX*window.devicePixelRatio)&&p[h-1].y===Math.floor(e.offsetY*window.devicePixelRatio)||qt.points.push({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)})}else qt.points[1]={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},qt.calcRegionPoints();s.clearRect(0,0,t.width,t.height),qt.draw(s)}if(!i&&!a&&!r){var u=function(e){if(Wt)for(var t=0;t<Wt.edit_regions.length;t++)if(Wt.edit_regions[t].isPointIn(e))return Wt.edit_regions[t];return null}({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)});if(u)zt=u,t.style.cursor="pointer";else{zt=null,t.style.cursor="";var m={x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},b=cn({x:Math.floor(e.offsetX*window.devicePixelRatio),y:Math.floor(e.offsetY*window.devicePixelRatio)},c);if(!b&&"remove"===Pt&&l&&Yt)for(var g=0;g<10&&!(b=cn({x:Math.abs(m.x-Yt.x)/10*g+m.x,y:Math.abs(m.y-Yt.y)/10*g+m.y},c));g++);if(Yt=m,b){if("remove"===Pt){if(l)return tn(b),Qt(n),en(o),void s.clearRect(0,0,t.width,t.height);$(t).addClass("do-remove")}$t=b,"draw"===Pt&&(t.style.cursor="move")}else $t=null,t.style.cursor="",$(t).removeClass("do-remove")}}}),0);var p=null,h=!1;t.addEventListener("wheel",(function(e){!1===h&&(p&&(clearTimeout(p),p=null),h=!0,$(Ft).css("pointer-events","none"),$(n).css("pointer-events","none"),p=setTimeout((function(){h=!1,$(Ft).css("pointer-events","all"),$(n).css("pointer-events","all")}),250))})),t.addEventListener("scroll",(function(){Wt&&(Wt.selected=!1,Wt=null,Qt(n),en(o),s.clearRect(0,0,t.width,t.height))})),window.addEventListener("scroll",(function(e){Qt(n),en(o)})),window.addEventListener("resize",(function(){Gt(t,s),Gt(n,d),Qt(n),en(o)})),Rt=!0}(Ft,Bt,Ot),"draw"===t?jt(At):$(Ft).removeClass("freeline rect arrow remove").addClass("remove"),!0;var o="all";$(Ft).css("pointer-events",o),$(Bt).css("pointer-events",o)}else if("mouse"===t){!1;o="none";$(Ft).css("pointer-events",o),$(Bt).css("pointer-events",o),Dt(Ht)}}($(this).attr("data-mode"))})),Mt.on("mouseleave",(function(){i=setTimeout((function(){Mt.find(".sub-menu").hide(),Mt.removeClass("sub-menu")}),2e3)})).on("mouseenter",(function(){i&&clearTimeout(i)})),Mt.find(".collapse-btn").on("click",(function(){$(this).hide(),Mt.find(".expand-btn").show(),Mt.find(".sub-menu").hide(),Mt.removeClass("sub-menu"),Mt.addClass("collapsed"),e({action:"collapse"})})),Mt.find(".expand-btn").on("click",(function(){$(this).hide(),Mt.find(".collapse-btn").show(),Mt.find(".sub-menu").hide(),Mt.removeClass("sub-menu"),Mt.removeClass("collapsed"),e({action:"expand"})})),Nt=Tt.find(".mouse-block"),Ft=Tt.find("#draw-canvas")[0],Bt=Tt.find("#layer-canvas")[0];(Ot=document.createElement("canvas")).getContext("2d");Mt.find(".sub-menu-item").on("click",(function(e){var t=$(this).attr("data-type");"remove"!==$(this).parents(".sub-menu").attr("data-menu")?"mouse"===$(this).parents(".sub-menu").attr("data-menu")?Dt(t,e):jt(t):"remove-all"===t&&(It=[],Qt(Bt),en(Ot),Ft.getContext("2d").clearRect(0,0,Ft.width,Ft.height))})),Mt.find(".color-item").on("click",(function(){!function(e,t){Mt.find(".color-item").removeClass("active"),Mt.find(".color-item[data-color="+e+"]").addClass("active"),Xt=St[e]}($(this).attr("data-color"))})),Mt.find(".toolbar-action-btn").on("click",(function(){switch($(this).attr("data-action")){case"pause":e({action:"pause-recording"}),$(this).hide(),Mt.find(".more-action").css("display","flex");break;case"resume":e({action:"resume-recording"}),Mt.find(".more-action").hide(),Mt.find(".toolbar-action-btn.pause").show();break;case"discard":e({action:"discard-recording"});break;case"stop":e({action:"stop-stream"})}})),$(document).on("mousemove",Vt).on("mouseenter",Ut).on("mouseleave",Kt).on("mousedown",Zt).on("mouseup",Jt),document.documentElement.appendChild(Et)}();break;case"pause":Mt&&(Mt.find(".more-action").css("display","flex"),Mt.find(".toolbar-action-btn.pause").hide());break;case"resume":Mt&&(Mt.find(".more-action").hide(),Mt.find(".toolbar-action-btn.pause").show());break;case"remove-toolbar":$("#aws-record-toolbar").remove(),$(document).off("mousemove",Vt).off("mouseenter",Ut).off("mouseleave",Kt).off("mousedown",Zt).off("mouseup",Jt),Et=null,Tt=null,Mt=null,Pt="mouse",Ht="default",Rt=!1,!1,$t=null,zt=null,Wt=null,Lt={x:0,y:0},Nt=null,It=[],null,At="freeline",Ft=null,Bt=null,Ot=null,qt=null,Xt="#f00",Yt=null}}));var St={red:"#f00",blue:"#5B94FF",green:"#47D897"},Et=null,Tt=null,Mt=null,Pt="mouse",Ht="default",Rt=!1,$t=null,zt=null,Wt=null,Lt={x:0,y:0},Nt=null,It=[],At="freeline",Ft=null,Bt=null,Ot=null,qt=null,Xt="#f00",Yt=null;function Dt(e,t,n){Mt.find(".sub-menu-item[data-type="+e+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),Nt.removeClass("bg"),Tt.css("background","transparent"),Ht=e,"background"===e?Nt.addClass("bg"):"focus"===e&&t&&Tt.css("background","radial-gradient(circle at "+t.clientX+"px "+t.clientY+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)")}function jt(e,t){Mt.find(".sub-menu-item[data-type="+e+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),At=e,$(Ft).removeClass("freeline rect arrow remove").addClass(e)}function Ut(){"mouse"===Pt&&"background"===Ht&&Nt.addClass("bg")}function Kt(){Nt.removeClass("bg")}function Vt(e){if("focus"===Ht&&"mouse"===Pt&&Tt.css("background","radial-gradient(circle at "+e.clientX+"px "+e.clientY+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)"),"background"===Ht||"click"===Ht){var t=e.clientX-24+"px",n=e.clientY-24+"px";Nt.css("transform","translate3d("+t+","+n+",0)")}}function Zt(){"click"===Ht&&"mouse"===Pt&&Nt.addClass("mouse-down")}function Jt(){"click"===Ht&&"mouse"===Pt&&Nt.removeClass("mouse-down")}function Gt(e,t){var n=document.documentElement.offsetWidth,o=document.documentElement.clientHeight,i=n,a=o;e.style.width=n+"px",e.style.height=o+"px",e.width=i*window.devicePixelRatio,e.height=a*window.devicePixelRatio,t.lineCap="round"}function Qt(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),It.forEach((function(e){e.selected||e.draw(t)}))}function en(e){var t=e.getContext("2d");t.clearRect(0,0,e.width,e.height),It.forEach((function(e,n){var o,i,a,r,l=(i=(16711680&(o=n)).toString(16),a=(65280&o).toString(16),r=(255&o).toString(16),"#"+(1===i.length?"0":"")+i+(1===a.length?"0":"")+a+(1===r.length?"0":"")+r);e.draw(t,l)}))}function tn(e){for(var t=0;t<It.length;t++)It[t]===e&&It.splice(t,1)}function nn(e,t){var n=function(e){function t(){}return t.prototype=e,new t}(t.prototype);n.constructor=e,e.prototype=n}function on(e,t,n){this.penWidth=t,this.color=n,this.points=[],this.pre_points=[],this.ctx=e,this.scrollTop=document.scrollingElement.scrollTop,this.selected=!1}function an(e,t,n){on.call(this,e,t),this.edit_regions=[],this.region_points=[],this.type="freeline",this.color=n}function rn(e,t,n){on.call(this,e,t),this.type="rect",this.color=n,this.region_points=[],this.edit_regions=[],this.region_points=pn(4)}function ln(e,t,n){on.call(this,e,t),this.type="rect",this.color=n,this.region_points=[],this.edit_regions=[],this.region_points=pn(2)}function sn(e,t){on.call(this,e,t),this.type="eraser"}function dn(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=n||e.color,r=e.penWidth;o||(t.lineWidth=r,t.strokeStyle=a);var l=i.length;if(0!==l&&1!==l){t.beginPath(),"freeline"===e.type?t.globalCompositeOperation="source-over":(t.globalCompositeOperation="destination-out",t.lineWidth=64);var s,d,c=null,p=i[0];t.moveTo(p.x,p.y);for(var h=0;h<i.length-1;h++)s=i[h],d=i[h+1],c={x:(s.x+d.x)/2,y:(s.y+d.y)/2},t.quadraticCurveTo(p.x,p.y,c.x,c.y),p=i[h+1];c=i[i.length-1],t.quadraticCurveTo(p.x,p.y,c.x,c.y),t.stroke(),t.closePath()}}function cn(e,t,n){var o=t.getImageData(e.x,e.y,1,1).data;if(o[3]<10)return null;var i,a=(i=o)[0]<<16|i[1]<<8|i[2];return It[a]}function pn(e){for(var t=[],n=0;n<e;n++)t.push({x:0,y:0});return t}function hn(e,t){return null!=e?Math.round((Math.max(e,20)+10)/2):8}function un(e,t,n,o){this.shape=e,this.center=t,this.disabled=!1,this.radius=n,this.index=o}on.prototype.editStart=function(){this.pre_points=this.points.map((function(e){return{x:e.x,y:e.y}}))},on.prototype.drawSelect=function(e){this.calcRegionPoints&&this.calcRegionPoints(),e.save(),e.strokeStyle="#fff",e.shadowColor="rgba(0, 0, 0, 0.4)",e.shadowOffsetX=2,e.shadowOffsetY=2,e.shadowBlur=4,e.lineWidth=Math.floor(this.penWidth+10),this.draw(e,"#fff",!0),e.restore(),this.draw(e),this.edit_regions&&this.edit_regions.forEach((function(t){return t.draw(e)}))},nn(an,on),an.prototype.draw=function(e,t,n){dn(this,e,t,n)},nn(rn,on),rn.prototype.draw=function(e,t,n){!function(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=n||e.color,r=o?e.penWidth+6:e.penWidth;t.lineJoin="round",t.globalCompositeOperation="source-over",t.lineWidth=r,t.strokeStyle=a;Math.abs(i[1].x-i[0].x),Math.abs(i[1].y-i[0].y);t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(i[1].x,i[0].y),t.lineTo(i[1].x,i[1].y),t.lineTo(i[0].x,i[1].y),t.closePath(),t.stroke()}(this,e,t,n)},rn.prototype.calcRegionPoints=function(){var e=this,t=this.points,n=this.region_points;n[0]={x:t[0].x,y:t[0].y},n[1]={x:t[1].x,y:t[0].y},n[2]={x:t[0].x,y:t[1].y},n[3]={x:t[1].x,y:t[1].y},this.edit_regions=n.map((function(t,n){return new un(e,t,hn(e.penWidth,window.devicePixelRatio),n)}))},rn.prototype.resize=function(e,t){var n=this.points,o=this.pre_points;switch(t){case 0:n[0].x=o[0].x+(e.x-Lt.x),n[0].y=o[0].y+(e.y-Lt.y);break;case 1:n[1].x=o[1].x+(e.x-Lt.x),n[0].y=o[0].y+(e.y-Lt.y);break;case 2:n[0].x=o[0].x+(e.x-Lt.x),n[1].y=o[1].y+(e.y-Lt.y);break;case 3:n[1].x=o[1].x+(e.x-Lt.x),n[1].y=o[1].y+(e.y-Lt.y)}this.calcRegionPoints()},nn(ln,on),ln.prototype.draw=function(e,t,n){!function(e,t,n,o){var i=e.points.map((function(t){return{x:t.x,y:t.y+(e.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}})),a=function(e,t,n,o,i){function a(e,t,n,o,i){var a=[0,0],r=e*Math.cos(n)-t*Math.sin(n),l=e*Math.sin(n)+t*Math.cos(n);if(o){var s=Math.sqrt(r*r+l*l);r=r/s*i,l=l/s*i,a[0]=r,a[1]=l}return a}var r=function(e,t,n,o){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-o,2))}(e,t,n,o),l=i,s=.52*l,d=Math.atan(s/l),c=Math.sqrt(s*s+l*l),p=a(n-e,o-t,d,!0,c),h=a(n-e,o-t,-d,!0,c),u=a(n-e,o-t,d,!0,c+5),m=a(n-e,o-t,-d,!0,c+5),b=Math.floor(n-p[0]),g=Math.floor(o-p[1]),f=Math.floor(n-h[0]),w=Math.floor(o-h[1]),x=b+(f-b)/4,v=g+(w-g)/4,y=b+(f-b)/4*3,_=g+(w-g)/4*3,k=Math.floor(n-u[0]),C=Math.floor(o-u[1]),S=Math.floor(n-m[0]),E=Math.floor(o-m[1]),T=l/r,M=Math.floor(n-(n-e)*T),P=Math.floor(o-(o-t)*T);return{ax:k,ay:C,bx:S,by:E,cx:M,cy:P,dx:n,dy:o,ex:x,ey:v,fx:y,fy:_}}(i[0].x,i[0].y,i[1].x,i[1].y,64),r=n||e.color;var l=o?e.penWidth+10:e.penWidth;t.lineJoin="round",t.globalCompositeOperation="source-over",t.lineWidth=l,t.lineJoin="round",t.strokeStyle=r,t.beginPath(),t.moveTo(i[0].x,i[0].y),t.lineTo(a.ex,a.ey),t.lineTo(a.ax,a.ay),t.lineTo(a.dx,a.dy),t.lineTo(a.bx,a.by),t.lineTo(a.fx,a.fy),t.closePath(),t.stroke(),t.fillStyle=r,t.fill(),t.beginPath(),t.moveTo(a.cx,a.cy),t.lineTo(a.ax,a.ay),t.lineTo(a.dx,a.dy),t.lineTo(a.bx,a.by),t.lineTo(a.cx,a.cy),t.stroke(),t.closePath()}(this,e,t,n)},ln.prototype.calcRegionPoints=function(){var e=this,t=this.points,n=this.region_points;n[0]={x:t[0].x,y:t[0].y},n[1]={x:t[1].x,y:t[1].y},this.edit_regions=n.map((function(t,n){return new un(e,t,hn(e.penWidth,window.devicePixelRatio),n)}))},ln.prototype.resize=function(e,t){var n=this.points,o=this.pre_points;switch(t){case 0:n[0].x=o[0].x+(e.x-Lt.x),n[0].y=o[0].y+(e.y-Lt.y);break;case 1:n[1].x=o[1].x+(e.x-Lt.x),n[1].y=o[1].y+(e.y-Lt.y)}this.calcRegionPoints()},nn(sn,on),sn.prototype.draw=function(e){dn(this,e)},un.prototype.isPointIn=function(e){return!this.disabled&&(t=this.center,n=e,Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))<=this.getRadius());var t,n},un.prototype.getRadius=function(){return this.radius},un.prototype.draw=function(e){e.save(),e.strokeStyle="rgba(0,0,0,0.1)",e.lineWidth=1,e.save(),e.shadowColor="rgba(0,0,0,0.25)",e.shadowBlur=4,e.shadowOffsetX=0,e.shadowOffsetY=2,e.beginPath(),e.arc(this.center.x,this.center.y,this.getRadius(),0,2*Math.PI,!1),e.stroke(),e.closePath(),e.fillStyle="#fff",e.fill(),e.restore();var t=this.center.x-this.getRadius()+2,n=this.center.y-this.getRadius()+2,o=e.createLinearGradient(t,n,t,n+2*(this.getRadius()-2));o.addColorStop(0,"#09f"),o.addColorStop(1,"#07f"),e.fillStyle=o,e.beginPath(),e.arc(this.center.x,this.center.y,this.getRadius()-2,0,2*Math.PI,!1),e.closePath(),e.fill(),e.restore()},window.isContentScriptLoaded=!0,e({action:"check_shortcuts"}),window.addEventListener("load",(function(){e({action:"enable_selected"})}),!1);if(/(.*).awesomescreenshot.com/.test(document.location.hostname)){var mn=chrome.runtime.getManifest().version;$("<div id='aws-chrome-installed' style='display:none !important' data-version='"+mn+"'></div>").appendTo(document.body)}})()})();