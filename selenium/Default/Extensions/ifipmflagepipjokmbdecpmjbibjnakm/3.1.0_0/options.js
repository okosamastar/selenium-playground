!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const a="UA-129118591-5",i=navigator.userAgent.indexOf("Firefox")>-1,r=window.navigator.userAgent.indexOf("Edg/")>-1,s=!!window.opr,o=!(r||s||i),c={count:0,minImageWidth:64,minImageHeight:64,maxFetchLatency:18e4,includeVectors:!0,fileMask:void 0};class g{static get keys(){return{debug:"debug",count:"count",interval:"interval",maxFetchLatency:"maxFetchLatency",minImageHeight:"minImageHeight",minImageWidth:"minImageWidth",includeVectors:"includeVectors",fileMask:"fileMask"}}static getSettings(e){g.get(null,t=>e({...c,...t}))}static getDebugState(e){g.get([g.keys.debug],t=>{const n=t[g.keys.debug];e(void 0!==n&&n)})}static setDebugState(e,t){g.save(g.keys.debug,e,t)}static incrementCount(e){g.get(g.keys.count,t=>{const n=(t[g.keys.count]||0)+e;g.save(g.keys.count,n)})}static get(e,t){chrome.storage.local.get(e,t)}static save(e,t,n=null){chrome.storage.local.set({[e]:t},n)}}class l{constructor(e){var t,n,a,i,r,s;t=window,n=document,a="script",i="ga",t.GoogleAnalyticsObject=i,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,r=n.createElement(a),s=n.getElementsByTagName(a)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",s&&s.parentNode&&s.parentNode.insertBefore(r,s),window.ga("create",e,"auto"),window.ga("set","checkProtocolTask",null),window.ga("set","transport","beacon")}log(e="action",t="label",n="category"){window.ga("send","event",n,e,t,1)}}const u=new l(a);class d{constructor(){document.title=d.translate("appName"),d.translatePage(document.body),d.loadSettings(d.registerChangeListeners()),u.log("load","page","options")}static translate(e,t){return window.chrome.i18n.getMessage(e,t)}static getElement(e){return document.getElementById(e)}static get minWidth(){return d.getElement("min_width")}static get minHeight(){return d.getElement("min_height")}static get maxTimeout(){return d.getElement("max_timeout")}static get fileMask(){return d.getElement("filename_mask")}static get includeVectors(){return d.getElement("include_vectors")}static translatePage(e){if(e.hasAttribute("data-key"))e.innerHTML=d.translate(e.getAttribute("data-key"));else for(let t=0;t<e.children.length;t++)d.translatePage(e.children[t])}static registerChangeListeners(){d.minWidth.onkeyup=d.minWidth.onchange=e=>d.saveChangedIntegerValue(e,g.keys.minImageWidth),d.minHeight.onkeyup=d.minHeight.onchange=e=>d.saveChangedIntegerValue(e,g.keys.minImageHeight),d.maxTimeout.onkeyup=d.maxTimeout.onchange=e=>d.saveChangedIntegerValue(e,g.keys.maxFetchLatency,e=>1e3*e),d.fileMask.onkeyup=d.fileMask.onchange=e=>g.save(g.keys.fileMask,(e.target.value||"").trim()),d.includeVectors.addEventListener("change",e=>g.save(g.keys.includeVectors,!!e.currentTarget.checked))}static markSlidersReady(){setTimeout(e=>d.getElement("include_vectors_slider").setAttribute("ready","ready"),50)}static conditionallyShowCount(e){e<2||(d.getElement("count").innerHTML=d.translate("image_count",e.toString()))}static loadSettings(e){g.getSettings(t=>{const n=t[g.keys.count],a=t[g.keys.minImageWidth],i=t[g.keys.minImageHeight],r=t[g.keys.maxFetchLatency]/1e3,s=t[g.keys.includeVectors],o=t[g.keys.fileMask];d.minWidth.value=a,d.minHeight.value=i,d.maxTimeout.value=r,d.fileMask.value=o||"",s&&(d.includeVectors.checked=!0),d.markSlidersReady(),d.conditionallyShowCount(n),e&&e()})}static saveChangedIntegerValue(e,t,n=(e=>e)){if(!e.target.checkValidity())return void e.target.reportValidity();const a=parseInt(e.target.getAttribute("min"),10),i=parseInt(e.target.getAttribute("max"),10),r=parseInt(e.target.value,10);if(r<a||r>i)return;const s=n(r);g.save(t,s)}}new d}]);